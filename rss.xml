<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[Haichao Blog]]></title><description><![CDATA[The place where 真好吃haichao writes when he want.]]></description><link>https://www.haichaozhu.com/</link><generator>RSS for Node</generator><lastBuildDate>Thu, 15 Aug 2019 15:09:16 GMT</lastBuildDate><item><title><![CDATA[这叫交易结算保证，小傻瓜]]></title><description><![CDATA[作者：Nic Carter原文：It’s the settlement assurances, stupid译者：真好吃haichao…]]></description><link>https://www.haichaozhu.com//settlement-assurances/</link><guid isPermaLink="false">https://www.haichaozhu.com//settlement-assurances/</guid><pubDate>Mon, 05 Aug 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;作者：&lt;a href=&quot;https://medium.com/@nic__carter?source=post_page---------------------------&quot;&gt;Nic Carter&lt;/a&gt;&lt;br&gt;
原文：&lt;a href=&quot;https://medium.com/@nic__carter/its-the-settlement-assurances-stupid-5dcd1c3f4e41&quot;&gt;It’s the settlement assurances, stupid&lt;/a&gt;&lt;br&gt;
译者：真好吃haichao&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/0c3b2cf83f8c09aaae9dff13d11799c7/fa92b/settlement-assurance-1.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.285714285714285%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABuklEQVQoz3VSTU/CQBDld3sxHjR+xMQrBxKNCYqIehCkICFAKcUmIpa1FKhgGymFUgoWCv10oBXl4Bya3Zn35s2+aeCJohBCDMNgGAZflmVrtVqlUqFpGq5Q4jjOcRzLsgzD0HVd07TZbNbtdlVVDcDJdV0olEolQLirmE6npmm6PwF5nhfa7Xa9XodegiDgOA7ngFcGcrFYXBOgo9fIWca6iQvKXr7RaIDAL5kkybWyKPbm8/maM9Z0UVZNy9G+vgAJGXgdzL9B9pUdG2UirVxM/UCKLDMdKUux15lnlpc7nY/RaPSfsj92j0qgq0MmdoxuTmJ3D7d55h5H0czLY7ZQyOdt2242mxvK5XLZWinbltlKnb1e7NVvT1o3R+lE/CxZiWBU4YXL5fF0KmUaRuMvebFYgIHe2PpEqZ5uMdGDt6t9dLk74Oh2byJICpTKJAkbBSUADwaDgOfmcDgMh8Pj8Xg5ha7Vokev5zv0+TYdOZiI7ysjljCCILBkEjyPx+M8z/vkfr8fCoUURfFfoanic/rzKTGfyD8LW8Kq1WqJIGBg2Lksyz5ZkqRgMOiRNza7GWCV9efn+QZPllIxLVCK8AAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-1.png&quot;
        title=&quot;&quot;
        src=&quot;/static/0c3b2cf83f8c09aaae9dff13d11799c7/b9e4f/settlement-assurance-1.png&quot;
        srcset=&quot;/static/0c3b2cf83f8c09aaae9dff13d11799c7/cf440/settlement-assurance-1.png 148w,
/static/0c3b2cf83f8c09aaae9dff13d11799c7/d2d38/settlement-assurance-1.png 295w,
/static/0c3b2cf83f8c09aaae9dff13d11799c7/b9e4f/settlement-assurance-1.png 590w,
/static/0c3b2cf83f8c09aaae9dff13d11799c7/f9b6a/settlement-assurance-1.png 885w,
/static/0c3b2cf83f8c09aaae9dff13d11799c7/2d849/settlement-assurance-1.png 1180w,
/static/0c3b2cf83f8c09aaae9dff13d11799c7/fa92b/settlement-assurance-1.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;主流区块链的状态达到最终性需要多长时间？ 我需要等多久才能确认一笔比特币交易真正完成结算？ 有哪些风险因素可能会导致我需要额外的交易确认？ 交易确认的数量是如何影响交易结算的？&lt;/p&gt;
&lt;p&gt; 令人惊讶的是，即使是在2019年，也就是在第一个比特币区块被开采后的10年后的今天，这些问题目前仍没有很好的答案。由于一些观点的存在，对于工作量证明机制的特性的严谨调查一直停滞不前。一些人认为工作量证明只是一个临时的机制，当更好的共识/抗女巫攻击机制出现后就会替代它。也有一些比特币原教旨主义的人会认为比特币的质量是不可被质疑的。 &lt;/p&gt;
&lt;p&gt;但这些问题是至关重要的。 如果您认为具有开放验证节点集和分布式收敛机制的公链将在可预见的未来将持续为价值转移提供服务，那这些问题就是绝对值得深思的。 如果您是一个交易所，您的生计将依赖于正确评估各种区块链所需的交易确认的数量，这些问题会对您至关重要。 首先，让我解释一下为什么我认为结算保证是任何公链都值得考虑的首要因素。&lt;/p&gt;
&lt;h2&gt;比特币有趣在哪？&lt;/h2&gt;
&lt;p&gt;这其实是一个的难以回答的问题。 如果你去问十个不同的比特币用户，你会收到十个不同的回复。 关于比特币的用途和目的的分歧，几乎在2014-2017期间将整个社区分裂。 &lt;a href=&quot;https://medium.com/u/90326a938400&quot;&gt;Hasu&lt;/a&gt; 和我曾试图编写和总结过关于这些愿景上的&lt;a href=&quot;https://medium.com/@nic__carter/visions-of-bitcoin-4b7b7cbcd24c&quot;&gt;争论的历史&lt;/a&gt;。 也有其他人注意到了这一点，并且详细的记录了它们。 我尤其喜欢 &lt;a href=&quot;https://medium.com/u/e1c7b66721d6&quot;&gt;Murad Mahmudov&lt;/a&gt; 和 &lt;a href=&quot;https://medium.com/u/f16a149f8471&quot;&gt;Adam Taché&lt;/a&gt; 的&lt;a href=&quot;https://hackernoon.com/the-many-faces-of-bitcoin-1c298570d191&quot;&gt;观点&lt;/a&gt;。 Daniel Krawisz 也在 2014 年巧妙的&lt;a href=&quot;https://nakamotoinstitute.org/mempool/the-two-ideologies-in-bitcoin/&quot;&gt;讨论了这个话题&lt;/a&gt;。 &lt;/p&gt;
&lt;p&gt;在 Krawisz 的文章中，他认为比特币中存在着两个观点非常不同的群体：投资者和创业者。 他认为，投资者觉得比特币是一种新形式的高能货币，主要目的是维护个人的主权。 他们倾向于认为比特币终将因其内在的货币属性而成为主流资产。 对他们来说，布道毫无意义：币价才是最好的布道者。 而“创业者”们，正如 Krawisz 所认为，会对比特币作为全球支付系统更感兴趣，并且更加关注其在商业中的应用。 正如任何在 2015-2017 关注过区块链的人都知道的那样，这两个阵营就比特币的目标这一话题进行了激烈的内战，这其中区块大小是两方争论的主要战场。 &lt;/p&gt;
&lt;p&gt;我认为也许这些观点可以统一。 我倾向于认为比特币的有趣之处在于它能够使用通信媒介来进行价值转移，并且提供极强的交易保证。 （我曾经在&lt;a href=&quot;https://medium.com/@nic__carter/unpacking-bitcoins-assurances-a3c98824d3f0&quot;&gt;另外一篇文章&lt;/a&gt;中尝试展开解释和评估交易保证的意义）我认为比特币是一种新颖的&lt;a href=&quot;https://medium.com/@hasufly/bitcoin-and-the-promise-of-independent-property-rights-8f10e5c7efa8&quot;&gt;制度技术&lt;/a&gt;，它提供了高度被保证的财富储存和转移功能且不依赖于任何国家或金融体系。这将会为人类的组织模式开启新的篇章，并且将会让那些财产所有权制度得不到保障的地方有可能实现有效率的商业模式。 &lt;/p&gt;
&lt;p&gt;因此，如果您认为交易的结算保证是这个系统中最有趣的事情，那我们应该如何评估它呢？ 我们应该如何在开放验证的前提下，在比特币和其他系统之间进行标准一致的比较呢？ &lt;/p&gt;
&lt;h2&gt;结算的评估&lt;/h2&gt;
&lt;p&gt;那么究竟什么是结算保证呢？ 它指的是对于系统所收到的一笔交易，系统能够让该交易的接收方确信这笔交易不会被篡改的能力。 使用像 SWIFT 这样的消息传递系统的电汇非常主流，这是因为它们处理的交易实际上是无法被篡改的。 对于收件人来说 SWIFT 是安全的，因为只有在确认了发件人的帐户中的资金完整后，始发银行才会释放资金。&lt;/p&gt;
&lt;p&gt; 这就是为什么&lt;a href=&quot;https://www.nytimes.com/interactive/2018/05/03/magazine/money-issue-bangladesh-billion-dollar-bank-heist.html&quot;&gt;孟加拉国银行盗窃案&lt;/a&gt;背后的小偷们选择了使用 SWIFT 和银行电汇：他们想要利用这些系统的交易结算保证。 换句话说，他们是选择了使用一种难以被篡改的系统来实施他们的盗窃。 这么做的结果是涉案的6100万美元至今仍然下落不明。 这并不是用来表明 SWIFT 和银行转账是失败的证据，相反这证明了这些系统所拥有的优势。 即使在这种情况下，几乎每个参与者都希望能够逆转交易，但他们却依然无法做到。 这说明该系统可以抵抗回滚，自由更改和事后编辑等操作。 这并不会使它成为一个糟糕的系统。 这反而使得它成为一个能够为交易对手提供了很好的保证的系统，保证交易最终必定将会被结算。 &lt;/p&gt;
&lt;p&gt;比特币是一个类似的很有用的系统，因为它同样为用户提供了强大的结算保证。 只不过究竟有多好，我们还并不完全知道。 &lt;a href=&quot;https://medium.com/u/1852b393b452&quot;&gt;LaurentMT&lt;/a&gt; 在他出色的 &lt;a href=&quot;https://medium.com/@laurentmt/gravity-10e1a25d2ab2&quot;&gt;Gravity&lt;/a&gt; 系列中写出了也许是目前为止最为科学的一些探索。 但总的来说，比特币 PoW 的特性仍然尚未得到充分的研究。 它在历史上曾有过一些区块重组的事件，但据我们所知，这其中并没有以恶意偷盗为目的的重组发生过。 并且我们知道矿工们将大量的现实世界的资源输入给了交易的挖矿。 这意味着比特币交易的接收者可以怀有极高的信心，相信一旦其交易被埋在几个区块之下，交易就不可能被逆转。&lt;/p&gt;
&lt;p&gt;但对于许多竞争加密货币而言，情况并非如此。 虽然在许多情况下它们看起来与比特币类似，但其实他们其中并没有一个和比特币具有相同的结算保证。 这不一定是因为任何设计缺陷，而仅仅是因为比特币的每个区块在每单位时间上累积了更多的成本（也就是攻击成本），并且也是因为比特币对于它的哈希函数来说是一个近乎垄断的角色，并且还拥有专用的硬件。 有些令人惊讶的是，许多较弱的链还尚未被尝试攻击过，即使这样做的成本很低。 这很可能是因为51％攻击后的套现需要利用交易所，这会带来些额外的复杂性。 而且坦率地说，大多数比较小的币在一开始的币价都比较低（并且也没有多少流动性可以用来做空），这就限制了攻击的收益。&lt;/p&gt;
&lt;p&gt; 如果你想要了解众多加密货币的脆弱程度，你可以看看 &lt;a href=&quot;http://crypto51.app/&quot;&gt;crypto51.app&lt;/a&gt; 这个网站。该网站通过假设攻击者可以在 Nicehash 上租用足够的硬件来计算区块链被攻击的可能性，虽然有点不现实，但它仍然很好地指出了了攻击这些系统的成本的下限。 &lt;/p&gt;
&lt;p&gt;那么评估公链系统中的结算效率的关键变量是哪些呢？ 让我们把它们分成易于量化的变量和难以量化的变量两部分来讨论。&lt;/p&gt;
&lt;p&gt; 在我们开始之前，让我们先进行一丢丢的文献综述，引用这个领域的一些先前的工作： &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;若想获得对于这个问题的更加简洁的描述，请阅读 &lt;a href=&quot;https://medium.com/u/8021fc666260&quot;&gt;Anthony Lusardi&lt;/a&gt; 的 &lt;a href=&quot;https://medium.com/@pyskell/understanding-and-mitigating-re-orgs-921c7768fa18&quot;&gt;Understanding (and Mitigating) Reorgs&lt;/a&gt;。 &lt;/li&gt;
&lt;li&gt;有关比特币工作量证明的全面调查，请参阅：国际清算银行的 Raphael Auer 写的 &lt;a href=&quot;https://www.bis.org/publ/work765.pdf&quot;&gt;Beyond the doomsday economics of “proof-of-work” in cryptocurrencies&lt;/a&gt;。 &lt;/li&gt;
&lt;li&gt;有关于包含一些变量的模型的具体实现，可以参考来自 BKCM 的Kevin Lu 写的 &lt;a href=&quot;https://bkcm.co/research/economicfinality.pdf&quot;&gt;A Lower Bound on Miner Rewards&lt;/a&gt;。 &lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;可量化的结算相关变量&lt;/h2&gt;
&lt;h3&gt;记账成本&lt;/h3&gt;
&lt;p&gt;记账成本是我们评估区块链结算保证时最有用和最直接的变量。 简单来说，它相当于&lt;strong&gt;每单位时间支付给交易验证者/选择者的金额&lt;/strong&gt;。 在比特币中，矿工每挖出一个块都会获得区块奖励和交易费用，作为其保持诚实和“遵守规则”的激励措施。在工作量证明中，矿工会附上一个不可伪造的证据，证明他们已经消耗了一些能量，因此对于每个区块每个矿工都要付出相应的代价。 在每赢得一个区块的时候，除非他们非常幸运，矿工必须消耗大致相当于该区块价值的资源（这其中的边际利润通常很小）。 因此，矿工会被激励去创建有效且遵守规则的区块。 &lt;/p&gt;
&lt;p&gt;你可以把它想象成一个学校作业，比如必须阅读一本书并制作书籍报告。 你需要向你的老师证明你读过这本书，所以你要制作一份读书报告（一个前缀中有足够数量的零的有效块哈希），只有当你你实际读过这本书（计算出足够的哈希值），你才能创建它。 因为你的老师是个刻板的人，你还必须正确地格式化你的读书报告（产生一个结构正确且有效的块）。 如果你阅读了整本书但只提交一个格式错误的报告，并以你得到 F 的分数作为收场，那将是非常悲剧的。工作量证明机制也是如此的：工作是需要预先进行的，收益只能在之后获得。 既然你已经承担了实际成本，而你的业务又需要你于你执行最后的几个死板的步骤来获取你的奖励，你并不会希望搞砸这部分。 最近就出现过类似的事情，有一名矿工完成了所有必要的工作并获得了提交一个区块的资格，但是在&lt;a href=&quot;https://twitter.com/BitMEXResearch/status/1148989508588883970&quot;&gt;最后一道关卡中却创造了一个无效区块&lt;/a&gt;。 &lt;/p&gt;
&lt;p&gt;想要获得有关 PoW 奖励如何运作的更完整描述，请阅读 Hugo Nguyen 的文章：&lt;a href=&quot;https://bitcointechtalk.com/the-anatomy-of-proof-of-work-98c85b6f6667?source=post_page---------------------------&quot;&gt;The Anatomu of Proof of Work&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;那么为什么更高的每单位时间的记账成本意味着更高的安全性呢？ 因为如果（诚实的）矿工的工资更高，则意味着你需要雇佣个更多的唯利是图的人才能打败他们。 这些要消耗的资源必须来自某个地方：您需要管理能够产生哈希算力的硬件，电力等等。 （有一种观点认为，由于攻击者在进行51％攻击时会获得区块奖励，因此只有只有交易费才可以提供为 PoW 安全性。 在这里我没有足够的时间来充分讨论这一点，目前来说，我会认为区块链奖励，尤其是专用挖矿硬件，本身就是一个巨大的门槛，是必须在进行51％攻击理论讨论之前就要解决的问题。） &lt;/p&gt;
&lt;p&gt;总而言之，要想出价高于在比特币上尽职尽责地生产区块的诚实矿工们是非常困难的。 他们现在每年产生着69亿美元的收入，并且其中许多人可能会投资他们的产业中的其他业务以预期在未来获利（这意味着矿机可能有溢价，即区块链网络上正在挖矿的矿机的价格甚至可能高于其产生的价值）。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4cb65a7938b80c023d5304fa282761d9/d40c8/settlement-assurance-2.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 33.45%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAAkUlEQVQY042QwQ7DIAxD+f8v3Q7daEmJSUeyUMaBwySMFT0RWbIS6iwd6jytusenQ6j/NYXNKudmh6HlsHqYK1jNzBf3WA9rFTEpReS9vY6ULvBa2MEN1D2WbYvPR9wPOfZwVzAd97AhtV/Bfj31wjk3BtvVKuj1CYUIlJASztPNDu2H0KFPXxEVF/wJAM4ZKF92aZx4UKHi1gAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-2.png&quot;
        title=&quot;&quot;
        src=&quot;/static/4cb65a7938b80c023d5304fa282761d9/b9e4f/settlement-assurance-2.png&quot;
        srcset=&quot;/static/4cb65a7938b80c023d5304fa282761d9/cf440/settlement-assurance-2.png 148w,
/static/4cb65a7938b80c023d5304fa282761d9/d2d38/settlement-assurance-2.png 295w,
/static/4cb65a7938b80c023d5304fa282761d9/b9e4f/settlement-assurance-2.png 590w,
/static/4cb65a7938b80c023d5304fa282761d9/f9b6a/settlement-assurance-2.png 885w,
/static/4cb65a7938b80c023d5304fa282761d9/2d849/settlement-assurance-2.png 1180w,
/static/4cb65a7938b80c023d5304fa282761d9/bbefa/settlement-assurance-2.png 1770w,
/static/4cb65a7938b80c023d5304fa282761d9/d40c8/settlement-assurance-2.png 2000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;因此，比特币不仅接受来自比特币协议向矿工支付的日薪的保护，还会受到这些矿工期望在未来获得的折价收益的保护。 这意味着比特币不仅受到当今现状的保护，而且还受到矿工对未来奖励的期望的保护。 &lt;/p&gt;
&lt;p&gt;这里我们并没有找到一种简单的方法来模拟预期，所以最简单的方法是获取&lt;strong&gt;每单位时间的矿工收入并在此基础上来比较不同的区块链系统&lt;/strong&gt;。 到这里为止，如果你选择现在就停止阅读这篇文章并且只记住上一句话，那相比大多数人，你已经获得了对安全性更好的理解。 很少有团队，即使是那些像交易所一样高风险的项目，也很少像这样来评估区块链。 &lt;/p&gt;
&lt;p&gt;幸运的是，&lt;a href=&quot;https://medium.com/u/8021fc666260&quot;&gt;Anthony Lusardi&lt;/a&gt; 已经就这个主题做了一些很好的说明性工作。 他介绍了Bitconf（ &lt;a href=&quot;https://medium.com/@pyskell/your-exchange-needs-more-confirmations-the-bitconf-measure-872b69babc8f&quot;&gt;Your Exchange Needs More Confirmations: The BitConf Measure&lt;/a&gt;）。 这个工作展示了，对于比特币上的一次交易确认来说，其他的区块链（比如莱特币）需要做多少次交易确认才能达到同样的价值。&lt;/p&gt;
&lt;p&gt;但是，我敢说大多数人并不会使用 BitConfs，或尝试将对各区块链需要的交易结算成本进行索引。 恰恰相反，“民科”们认为结算是交易确认数量的线性函数。 更令人遗憾的是，这其实是一个非常普遍的观点。 即使是&lt;a href=&quot;https://litecoin-foundation.org/&quot;&gt;莱特币基金会&lt;/a&gt;网站也隐晦的表达这个观点： &lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;莱特币交易的确认比其他加密货币更快，比如比特币，因为它每2.5分钟产生一个块，而比特币是10分钟。 这意味着您的资金可以更快地被送达。 &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;如果是比较最初的从内存交易池中选取交易并包含到链中的时刻的速度，那莱特币是要快的多，但在加密货币中，概率性的交易结算效率是必须被纳入考虑的。 换句话说，如果你只关心第一次确认，那么莱特币“更快”，但是当你关心长期意义上的结算（多次确认）时，很明显它会慢得多。 &lt;/p&gt;
&lt;p&gt;如果你认为莱特币和比特币的每次确认都提供了相同程度的结算保证，那么你可能会认为比特币显然更慢，并画出如下的一个图：&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/a5aabe9e1f085052faa66ba4fbe3c045/fa92b/settlement-assurance-3.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 49.21428571428571%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAAA0klEQVQoz32QzRKDIAyEef839OLYGY8q+C8KtF9Jm2GmU/cQkmwI7JpxHKuqquu6bdumaR4Z53k+/yOlJImRIsSYMmKMIQShrbXTNN1sMdd1bdt2HMf+heTzPHOZuBeAWpaFjVKaMYPXYgFeds4NwyB/Kfus6/ueLeSGw3uvMhQ0oX6/yk/ps+ijWT0oI8A2/nan+YZDHrLvLqOWIRQiRiMdjFjXlZe5LyWURjzDZiM1Ey7DZkiOYbDYwyi57BW26zqab8PQ5jM00VwjY1ilrNj8AnItRqgu/7akAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-3.png&quot;
        title=&quot;&quot;
        src=&quot;/static/a5aabe9e1f085052faa66ba4fbe3c045/b9e4f/settlement-assurance-3.png&quot;
        srcset=&quot;/static/a5aabe9e1f085052faa66ba4fbe3c045/cf440/settlement-assurance-3.png 148w,
/static/a5aabe9e1f085052faa66ba4fbe3c045/d2d38/settlement-assurance-3.png 295w,
/static/a5aabe9e1f085052faa66ba4fbe3c045/b9e4f/settlement-assurance-3.png 590w,
/static/a5aabe9e1f085052faa66ba4fbe3c045/f9b6a/settlement-assurance-3.png 885w,
/static/a5aabe9e1f085052faa66ba4fbe3c045/2d849/settlement-assurance-3.png 1180w,
/static/a5aabe9e1f085052faa66ba4fbe3c045/fa92b/settlement-assurance-3.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;但这是错误的。 莱特币上每单位时间会产生更多的块，但它累积记账成本的速度会更慢。 实际上，比特币会为其矿工们提供更高的收入，因此他们每分钟会以哈希的形式提供更多的安全性。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/30d4a94d83c7b6d08fd49cbda516c4dd/fa92b/settlement-assurance-4.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 53.14285714285714%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAABo0lEQVQoz31Qy27bMBDUlwX9igI59F4URRCgn5MW6KG/kNyDoAV8SoEGsWtXsRRZtig+lhKX1MOi3LUIA760A3I5HGm0q4kQMUmSPM/LsiyKIk1TzjljLJ8gpTz8G1HbtkqpqqpwAjmNMXQFAPoc8f+Zzy/jOIYaCEBlXUd8OIP3g5+ee++pc+dQgMiUks0JNA51Brk5LoCu69oTgq54pnUVoc754ycxe18Xi3Fqfxg9HajW4vGKzz4avg5ThW3kUv28Zj8+oMwjh3z38O717kKu7qaXfDBbnW7vL9PbC0i+T14fzAgvxf3b5PaNzmaRRRCLz2L+xUAxnn792Lkq1O8btfxmtDjvjHqrFjfl81esIaIMumHc+wORYA2V8jC213VLEZ3rFFk/HPrhmGJEWtfvrXNdPxh0rtmjbVzTt10vJDBWEreuDbolbinPPW0aI6rkGsqV4qkq5poy3z2rMlZsqWUmd/MacpE/1bCVu6dj8myuZV5ufikWE6e0M6MSZ1gtY2fKWvyxeoMqtTUz8oUqKQ1yQ3rNUcUNioqvDLyijP8CNIJpGaTk1bAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-4.png&quot;
        title=&quot;&quot;
        src=&quot;/static/30d4a94d83c7b6d08fd49cbda516c4dd/b9e4f/settlement-assurance-4.png&quot;
        srcset=&quot;/static/30d4a94d83c7b6d08fd49cbda516c4dd/cf440/settlement-assurance-4.png 148w,
/static/30d4a94d83c7b6d08fd49cbda516c4dd/d2d38/settlement-assurance-4.png 295w,
/static/30d4a94d83c7b6d08fd49cbda516c4dd/b9e4f/settlement-assurance-4.png 590w,
/static/30d4a94d83c7b6d08fd49cbda516c4dd/f9b6a/settlement-assurance-4.png 885w,
/static/30d4a94d83c7b6d08fd49cbda516c4dd/2d849/settlement-assurance-4.png 1180w,
/static/30d4a94d83c7b6d08fd49cbda516c4dd/fa92b/settlement-assurance-4.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;与莱特币相比，比特币区块累积的成本会“更重”。 即使莱特币拥有10分钟的出块间隔，一个比特币的区块块仍然比一个莱特币的区块贵14.5倍。 确认的数量其实无关紧要， 矿工们每单位时间的机会成本才是最重要的。&lt;/p&gt;
&lt;p&gt; 我们可以尝试将这个记账成本增加的过程可视化，随着区块的堆叠，交易会被埋在越来越多的区块之下，也就越来越接近它最终被结算的状态。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/75ec54b4f63f9821563da83a989bb784/fa92b/settlement-assurance-5.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 79.71428571428572%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAQCAIAAACZeshMAAAACXBIWXMAAAsSAAALEgHS3X78AAABzElEQVQoz31TW4+TQBjt//8f+rDqqzF70az7ptmub8YtUMpQkHIrMHdmBr9hKLXYSE7IRzKHc5l8K621MQbeRX4oizxN9r/TJEYIZsDw32eV5zljTDUHkvokC3Hi4zToEp9mO4x+anp0536h+sU7iF7BzDjPsgwkV2VVCUoMa//9sWpzzTo3f/q+e/vlFTMJc9M0m83mRGZEk1pLrgU9Q3JxCBWuHflujW6+eoRbctu2vu9fknthJHCYg+mFLPez8u1zdPO4IawflS/JhhyN6nXPgTNBKZFHF8qPHplsL5Rxaa1ycoagskCz8v06fv/kO9td14Vh+Lfto1YSnJ/AwYgoIkWmth9+xB+A7JSXmXFlowqsBRkLI/Api0jT6RY+ftu9+fxK+PXMtc0JPVlw4wrLz8r3L6NtNrUdBMGiba4lCNIJPbO2T8oPS/LlVRllo84wSooCzcq3z1fbLitOXeYx6gzJRL5TtLlK9jzPkuv6aDOzzgyDGbQ76gZZp/NV3a3jd08BHQsD29vt1pFrjPHAscKVIrVoCgAMgL4rYd3gNOxc1eC6ZbCA8Mk5B4olwySEmJchjvdJkiw2REiJUJTsY9Vb5bIsEUJSyj/8e5AH1VeuJAAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-5.png&quot;
        title=&quot;&quot;
        src=&quot;/static/75ec54b4f63f9821563da83a989bb784/b9e4f/settlement-assurance-5.png&quot;
        srcset=&quot;/static/75ec54b4f63f9821563da83a989bb784/cf440/settlement-assurance-5.png 148w,
/static/75ec54b4f63f9821563da83a989bb784/d2d38/settlement-assurance-5.png 295w,
/static/75ec54b4f63f9821563da83a989bb784/b9e4f/settlement-assurance-5.png 590w,
/static/75ec54b4f63f9821563da83a989bb784/f9b6a/settlement-assurance-5.png 885w,
/static/75ec54b4f63f9821563da83a989bb784/2d849/settlement-assurance-5.png 1180w,
/static/75ec54b4f63f9821563da83a989bb784/fa92b/settlement-assurance-5.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;随着更多的区块被加进来，这笔交易也变得越来越难被逆转，交易结算也就更加接近完成的状态。 在这个图中，我按照记账成本的相对大小关系对区块的宽度进行了缩放，并画出了块的粒度。 &lt;/p&gt;
&lt;p&gt;这里的要点是区块链系统中的结算是有一个过程的。 出块间隔基本上无关紧要。 以太坊每小时比比特币出的块更多，但应根据记账成本而不是确认数来比较两者之间的结算效率。 &lt;/p&gt;
&lt;h3&gt;逆转交易的收益：交易的金额&lt;/h3&gt;
&lt;p&gt;记账成本并不是影响交易结算效率的唯一因素。 同样重要的是逆转交易成功后可能得到的收益。 衡量这种激励的最纯粹的方法就是依据交易的金额。 如果你是一笔50,000 BTC交易的接收人，你可能需要等待超过六个块的才会确认交易完成。 如果你是正在接收1000聪，那一次确认就足够了。 简而言之，每笔交易的结算都会或多或少受到其涉及的金额的影响。 &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/u/ff465e02dd82&quot;&gt;Elaine Ou&lt;/a&gt; 在一篇精彩的 &lt;a href=&quot;https://www.bloomberg.com/opinion/articles/2019-01-16/bitcoin-and-other-cryptocurrencies-are-open-about-being-at-risk&quot;&gt;Bloomberg 文章&lt;/a&gt;中正式确定了这一概念，认为收款人应该等到交易的价值和记账成本匹配时才能认为交易结算完成。 &lt;/p&gt;
&lt;p&gt;Elaine 的公式巧妙地结合了区块链结算中两个最重要的可量化的变量：记账成本和逆转交易的收益。 如果你想在BTC结算价值1000万美元的收款交易，根据其规则，你需要等待60个区块，或者说10个小时。 （这是一个很巧妙的巧合，以13,330美元的价格计算的话，比特币会以100万美元/小时的速度累积记账成本）。 接下来，我会将这个简单的公式称为 &lt;strong&gt;Ou 规则&lt;/strong&gt;。 &lt;/p&gt;
&lt;p&gt;现在我们已经列举了两个最关键的结算相关的变量，让我们来进行一些计算并比较一下这些主流的 PoW 网络。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/664202fcefede83c18f2feab4758a3b6/d40c8/settlement-assurance-6.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 32.05%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAABBElEQVQY012PzZKCMBCEef8X24NsrZSoCEZgE/4jhgAhSIBt5LZVc/iqZ6Z7xjoc3QcrX/1Ud++Uy7ob23F1/fDr2xHKSL0WdWc7V3AzzJi5hWxn8ptZrhfEGW+UEf2EOS6HRi8PmjsXH0YwrZrhEkTPdmN0Cc1gwdsNrJN396OkEgr7ed2i3Y6LHzLbOb/6t1DbwvUew2jnIEqgP1vtkdiyj+dzEMEMxhmXyJF6IbQ4/LgQUcjEqVzq/QrcCSiFOnnEIhHjopeDgXHVKCRIPRe1vJFYfJKbweCtutMAvBeyXKg3lCCk1jSZyRgzL//qI84bLyjAvKxrUZZRHDOWUEqTNP0DHqZOUTBJ2KAAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-6.png&quot;
        title=&quot;&quot;
        src=&quot;/static/664202fcefede83c18f2feab4758a3b6/b9e4f/settlement-assurance-6.png&quot;
        srcset=&quot;/static/664202fcefede83c18f2feab4758a3b6/cf440/settlement-assurance-6.png 148w,
/static/664202fcefede83c18f2feab4758a3b6/d2d38/settlement-assurance-6.png 295w,
/static/664202fcefede83c18f2feab4758a3b6/b9e4f/settlement-assurance-6.png 590w,
/static/664202fcefede83c18f2feab4758a3b6/f9b6a/settlement-assurance-6.png 885w,
/static/664202fcefede83c18f2feab4758a3b6/2d849/settlement-assurance-6.png 1180w,
/static/664202fcefede83c18f2feab4758a3b6/bbefa/settlement-assurance-6.png 1770w,
/static/664202fcefede83c18f2feab4758a3b6/d40c8/settlement-assurance-6.png 2000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;毋庸置疑，比特币是迄今为止结算最快的区块链（仅考虑这两个变量而言，且不考虑其他不太主流的区块链）。 在许多区块链上，即使是100万美元的收款交易，也可能非常缓慢。 除了比特币，以太坊和莱特币之外，其他的分布式账本们都需要花费至少一天的时间（在这些例子中我不包括 Ripple 和Stellar，因为它们并没有实际意义上的分布式验证）。 较小的链们则根本没有足够的矿工奖励来让结算能够在合理的时间内被完成。 &lt;/p&gt;
&lt;p&gt;&lt;a href=&quot;https://medium.com/u/d05136c145e5&quot;&gt;Luke Childs&lt;/a&gt; 的 Howmanyconfs 提供了部分该表的动态的更新版本：&lt;a href=&quot;https://howmanyconfs.com/?source=post_page---------------------------&quot;&gt;How Many Confs?&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;同样值得注意的是，BCH和BSV的交易结算分别比比特币慢33和69倍。 虽然它们在功能上与比特币在大多数方面相同，但由于它们为矿工提供的奖励较少，因此它们的速度要慢得多。 这与他们作为“更快”的区块链的定位形成了鲜明的对比。 &lt;/p&gt;
&lt;p&gt;这也是一个关于比特币如何抵制被模仿的有趣案例研究。 你可以创建一些看起来与比特币类似的东西，但是你无法复制基于记账成本产生的结算保证。 矿工们遵从现实的经济情况，他们不会被哄骗去支持一个不能很好地为他们提供收入的协议。 事实上，正如我们将要了解的那样，由于第三个变量的存在，BCH 和 BSV 的表现甚至比这个表展示的更加糟糕。&lt;/p&gt;
&lt;h3&gt;&lt;strong&gt;垄断其哈希函数&lt;/strong&gt;&lt;/h3&gt;
&lt;p&gt;到目前为止，我还没有提到第三个关键变量，它将直接影响某个区块链的结算保证：即它是否对能够进行其哈希计算的硬件具有垄断性。 正如我上面所提到的那样，BCH 和 BSV 相对于比特币来说处于一个巨大的劣势，因为它们只拥有所有 SHA-256 ASIC 的一小部分。 这意味着，即使是一个中型或小型的比特币矿池，也有可能会暂时将其算力指向比特币的较小分叉之一，并且随心所欲的对它进行 51％ 攻击。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/ec1fe0f72dfbfe2d50ca35632efeea1c/d40c8/settlement-assurance-7.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 31.25%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAAnElEQVQY04WOWw+DIAyF+f//0IdFXJRdEjMuJrMtZWtBN98kJ19PDtDWrOGWgyU/kO/fcwdzh69L9lYkCanpOViuzGHgeFVKsjgD6c5R06xsZhDDB0pC9Up7NYqSMzK56Iva8mdOKVr0s8tB1uvrWNvMOUVpMmt8UhwxTpvCSEcmd/Tw54TpYYiI835or0iNzIyIRQhK2AifUhDhC+pDU5QbgHtJAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-7.png&quot;
        title=&quot;&quot;
        src=&quot;/static/ec1fe0f72dfbfe2d50ca35632efeea1c/b9e4f/settlement-assurance-7.png&quot;
        srcset=&quot;/static/ec1fe0f72dfbfe2d50ca35632efeea1c/cf440/settlement-assurance-7.png 148w,
/static/ec1fe0f72dfbfe2d50ca35632efeea1c/d2d38/settlement-assurance-7.png 295w,
/static/ec1fe0f72dfbfe2d50ca35632efeea1c/b9e4f/settlement-assurance-7.png 590w,
/static/ec1fe0f72dfbfe2d50ca35632efeea1c/f9b6a/settlement-assurance-7.png 885w,
/static/ec1fe0f72dfbfe2d50ca35632efeea1c/2d849/settlement-assurance-7.png 1180w,
/static/ec1fe0f72dfbfe2d50ca35632efeea1c/bbefa/settlement-assurance-7.png 1770w,
/static/ec1fe0f72dfbfe2d50ca35632efeea1c/d40c8/settlement-assurance-7.png 2000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;这些区块链尚未受到攻击的事实并不能成为其安全性的证据。 可能的情况是，比特币上没有矿工愿意恶意骚扰今天的少数派，但是仅仅依赖于矿工的善意会导致其拥有一个极其脆弱的安全模型。 由于这种风险始终存在，因此可以认为，无论确认数量多少，这些区块链都不会产生有效的交易结算。 这是因为，例如，在比特币上就有着足够的矿池，可以轻松的对 BSV 进行一次深度为100多的区块重组。 &lt;/p&gt;
&lt;p&gt;这个变量为本文的分析带来了更多的复杂性。 并不是说更多的算力就会意味着区块链更安全，它还必须占有该哈希函数对应的硬件的很大一部分才可以。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/9fb2f22485a57e5dd4a53163fac99ed5/fa92b/settlement-assurance-8.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 76.28571428571428%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAIAAABr+ngCAAAACXBIWXMAAAsSAAALEgHS3X78AAABsklEQVQoz4VS25aiMBD0/79teXIu5+g6rhgJBAi534PbgMvojGe2XkhIuqu6KpvrI8ZxrGbUdf1nxrJGCJVleTweYbte3iwfKSUcwDFCl6Zp4OrlgkII1x+xASr4cM6hGOO6wtXH8XA+n3GFCWnGZ/jKPAvOQjGpmDICFtrK6/9wK7ZeD6I7o7KqLi1pJ9kYcUVjCosRT8mnYhesNPx745QT1N/rfMIsNctjXhj+zXBbO29BP2kIuACeY4xPp9PhcBBCTMUxxXvanMcY09oFyIUedrtdURTb7bYofu33e7CWMTYVpxTBoeUqF7rtRT8I0jFtbM5p1sW9dxCbcy6l9OD2xKzZPHn6/VG+vrxA77e3d4Q7uBZj4HLIoGccjddUDMbpxcEl5wzCJlppjbVaK86Fc9baoE1IOSxDweSorilXuG3XFDfzgYKohHIxAUfWGnpffUhSOWkYSINt07fK2Bi8kLruyOLuLWdtRUup1G6dpxskk0OItz+UM0JpiJ70fUv7h+L5nZiKNE1PB67KCtddAzllsDvFNKPtO5ifcprvH8lnTmMGWz3Qeb+m/f1Jr/gLhipjQe7jK7cAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-8.png&quot;
        title=&quot;&quot;
        src=&quot;/static/9fb2f22485a57e5dd4a53163fac99ed5/b9e4f/settlement-assurance-8.png&quot;
        srcset=&quot;/static/9fb2f22485a57e5dd4a53163fac99ed5/cf440/settlement-assurance-8.png 148w,
/static/9fb2f22485a57e5dd4a53163fac99ed5/d2d38/settlement-assurance-8.png 295w,
/static/9fb2f22485a57e5dd4a53163fac99ed5/b9e4f/settlement-assurance-8.png 590w,
/static/9fb2f22485a57e5dd4a53163fac99ed5/f9b6a/settlement-assurance-8.png 885w,
/static/9fb2f22485a57e5dd4a53163fac99ed5/2d849/settlement-assurance-8.png 1180w,
/static/9fb2f22485a57e5dd4a53163fac99ed5/fa92b/settlement-assurance-8.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;在这个例子中，即使区块链 B 拥有更多的记账成本，我仍然将假设区块链 A 的安全性低于 B，因为理论上找到足够的硬件来攻击 A 将会更加容易。 &lt;/p&gt;
&lt;p&gt;所以我考虑认定这个变量是一个布尔值：即该区块链是否是其哈希函数的算力的垄断者。 如果它很不幸的与众多其他区块链共享挖矿硬件，并且只拥有很少一部分的矿机的支持，那它很可能从根本上来说就是不安全的。 但很难确定它究竟有多不安全，攻击的风险将取决于攻击者聚集足够的电力和硬件的能力。 &lt;/p&gt;
&lt;h2&gt;不太可量化的结算变量&lt;/h2&gt;
&lt;p&gt;上面所涉及的三个变量并非详尽无遗，它们只是最容易量化的变量而已。 有了这些变量，你可能就已经可以建立一个比今天许多交易所使用的更好的模型。 但仍有许多因素需要考虑。 &lt;/p&gt;
&lt;h3&gt;逆转交易的收益：金手指攻击&lt;/h3&gt;
&lt;p&gt;金手指攻击的名字取自邦德电影，电影中的恶棍计划辐射诺克斯堡的所有金币来使他自己所拥有的金币更值钱。 这个名词用来描述一些攻击者受到一些协议之外的激励的这类攻击。 Joseph Bonneau 更科学地将其&lt;a href=&quot;https://fc18.ifca.ai/bitcoin/papers/bitcoin18-final17.pdf&quot;&gt;描述&lt;/a&gt;为“攻击者有着破坏共识过程的外在动机”的攻击。 &lt;/p&gt;
&lt;p&gt;这种攻击的风险几乎无法量化，因为攻击者有各种不同的动机，并且往往不是先验的（在攻击之前透露）。 在这里，我将进一步给出两个例子，它们会让逆转交易的收益率会急剧增加，并且使得结算保证变得不那么确定。 &lt;/p&gt;
&lt;h3&gt;上层过重&lt;/h3&gt;
&lt;p&gt;这是指在一些基础层协议之上创建大量价值很高的资产作为 Token 的情况，例如比特币上的 Omni 资产或以太坊上的 ERC20 资产。 由于这些 Token 的安全性来源于其 Layer 1 并且完全依赖于 Layer 1 来运转，因此它们在 Layer 1 上会很容易受到攻击。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4f6a8afc6bbf3816af7fc25a5d0b8726/fa92b/settlement-assurance-9.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 56.07142857142857%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAALCAIAAADwazoUAAAACXBIWXMAAAsSAAALEgHS3X78AAACAUlEQVQoz1WS3WoTQRTH96UsPoD1RgQFKdKLoikBoaAXine+g+/gvabeaEVsqGiaD2kMCWlia5NuNp+zu/O5M2dmN/FsRIiHYXbPmf/v7Dln1rMAiXaJmMvoXMaXio2Vktba1YYBGNQo6ouwJcKuiq6VUqjxDGQgfrGzR6L3nHcOSHnPGWlgE14aWJmozuo7ov+S/dwnxwUHxhjwjF2Z8Pv4aHtUOQhO7o9Kt5LJD0hzJk1T51wOu1Uy/RR82A6qT4Py3eD9HT3vgFt5mCBN7aJS9D/vTBpP/MMbUfuNXSKc9fv9ZrOJPIBzVs6/7vrHu5N60S9tsX4JNQg7Z+aLk3vDjw+CWnHwbov2DiHLy2WMEULWZS9BXsy+3B4cPfS/7Q3e3hTDss1WnjapVVdhpTCtPpucPib1V1gsNrQ5sBxmHVLZnzVeTE8Lcet1li210R4AaG1MwiSdSDrGwaKL+3+wyYNGy0SGiSAAdq0BD8+wK8wENhUyybJs7WbL3LK/C700t8xaJ4TCiFvfJX7ZSqkoxQZ5HONDUEo5F3EcY2gdWRvnUsowjDjnURyjACmPzduCdBm5YLMWj67IqMHm55J0eXgpFm0ZD+nkjEeDeNyQNIiCKrYWBTVBeuGo5oHmoIU1ymhu8WdLKBiJC99H179H/kArZq3GoThr9L8dBUbRP8+sUx8vDcIjAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-9.png&quot;
        title=&quot;&quot;
        src=&quot;/static/4f6a8afc6bbf3816af7fc25a5d0b8726/b9e4f/settlement-assurance-9.png&quot;
        srcset=&quot;/static/4f6a8afc6bbf3816af7fc25a5d0b8726/cf440/settlement-assurance-9.png 148w,
/static/4f6a8afc6bbf3816af7fc25a5d0b8726/d2d38/settlement-assurance-9.png 295w,
/static/4f6a8afc6bbf3816af7fc25a5d0b8726/b9e4f/settlement-assurance-9.png 590w,
/static/4f6a8afc6bbf3816af7fc25a5d0b8726/f9b6a/settlement-assurance-9.png 885w,
/static/4f6a8afc6bbf3816af7fc25a5d0b8726/2d849/settlement-assurance-9.png 1180w,
/static/4f6a8afc6bbf3816af7fc25a5d0b8726/fa92b/settlement-assurance-9.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;随着底层协议的攻击成本和上层资产价值这两者之间的不对称性的日渐凸显，上层过重的问题也会开始显现出来。 当这种不对称性变得足够大，攻击者可能会寻求机会做空在上层的某些资产并同时攻击底层协议，挖取空块并对相关 Token 进行 DOS 攻击，或者进行重组和混淆。 &lt;/p&gt;
&lt;p&gt;现实世界中是有着有关上层过重问题的后果的例子的。 最近已经有攻击者尝试了一些方法可以用来&lt;a href=&quot;https://www.theblockcrypto.com/tiny/bitcoin-price-on-bitstamp-crashed-by-nearly-20-in-11-minutes/&quot;&gt;攻击 BitMEX 上的衍生品的参考价格&lt;/a&gt;。 由于 BitMEX（上层）的抵押品和底层参考市场（底层）之间存在很大的不对称性，因此可以通过在 Bitstamp 上倾销现货，使 BitMEX 上的保证金头寸被清算，并以此获利。（译者注：即在 BitMEX 上开100倍的空单，然后在 Bitstamp 上砸现货，以此在 BitMEX 上获利）&lt;/p&gt;
&lt;p&gt;我虽然不认为现如今的任何区块链会面临这个问题，但随着更多的资产被 Token 化并部署在区块链之上，攻击基础层的回报将会显著增加。 &lt;/p&gt;
&lt;h3&gt;有流动性的衍生品市场&lt;/h3&gt;
&lt;p&gt;这个就比较直观了。 衍生品，特别是期权，使金融市场参与者能够获得杠杆并放大他们的回报，即使底层证券仅有小幅波动也是如此。 在上层过重的问题下，当实施攻击的成本与攻击的收益之间存在显着的不对称时，区块链金融的风险就会出现。 &lt;/p&gt;
&lt;p&gt;衍生品市场的建立让攻击这能够放大他们通过预测价格变动所获得的回报；如果他们可以通过发起攻击来诱导资产价格下跌，那么该区块链系统的结算保证可能会存在风险。 随着攻击的收益增加，攻击者愿意为攻击而消耗的资源量也会增加。 因此，可以用来做空的杠杆的存在可能会削弱一个区块链的结算保证水平。 但是由于攻击者自身的不同，以及他们在完成攻击后进行套现的能力的不确定性，量化这种风险并为安全模型增加定量的折损是不现实的。 &lt;/p&gt;
&lt;p&gt;当然，这里的一个平衡因素是，如果交易所怀疑某交易的交易者在与攻击者协助共同干扰区块链，那么他们可能不愿意轻易的去冒险纵容这笔交易。 &lt;/p&gt;
&lt;h3&gt;硬件相关的考虑&lt;/h3&gt;
&lt;p&gt;之前提到的关于挖矿专用硬件的讨论也已经充分的说明了 GPU 挖矿的币是不可能成为硬件上的垄断者的，这是因为世界上有着足够多的 GPU（得益于游戏和一些其他非加密货币的应用）。 我在此不会特别强调这一点，因为 &lt;a href=&quot;https://medium.com/u/49f73e8059c4&quot;&gt;David Vorick&lt;/a&gt; 已经清楚地&lt;a href=&quot;https://blog.sia.tech/choosing-asics-for-sia-b318505b5b51?source=post_page---------------------------&quot;&gt;阐明&lt;/a&gt;了为什么 GPU 挖矿的区块链基本都会面临风险，以及为什么设置长期激励（以ASIC形式）是如此重要。&lt;/p&gt;
&lt;p&gt;因此对于 GPU 挖矿的币和区块链应该总是进行额外的交易确认。 虽然一单位的 GPU 挖矿成本和一单位的 ASIC 的挖矿成本之间的比例是很难被确切的计算出来的。 但由 GPU 挖矿生成的安全性是必须要被打一个折扣的。 毕竟获取 GPU 挖矿的硬件实在是太简单了。 &lt;/p&gt;
&lt;h2&gt;案例研究：Kraken 的交易确认要求&lt;/h2&gt;
&lt;p&gt;令人惊讶的是，即使对于交易所来说，这类交易结算规则制定上的失误会让他们产生较大的损失。但从我与他们的谈话中来看，他们好像对于交易确认的相关机制并不怎么关心。 我没有找到很多的关于交易所在交易被结算前需要等待多少个确认的相关信息。 但还好 Kraken 将他们的&lt;a href=&quot;https://support.kraken.com/hc/en-us/articles/203325283-Cryptocurrency-deposit-processing-times&quot;&gt;标准公开了出来&lt;/a&gt;。 &lt;/p&gt;
&lt;p&gt;我决定将 Kraken 的交易确认的相关规则与 Lusardi 的 BitConf 的一个简单实现进行对比，即要求所有的链都提供与比特币的六次确认等价的交易保证：&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/8c2af3505c9fca3730ba4f0e59c6ea3d/d40c8/settlement-assurance-10.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 28.849999999999998%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAIAAABM9SnKAAAACXBIWXMAAAsSAAALEgHS3X78AAAA9klEQVQY0x1Pi46EIBDz/z/xsu6tAvIY3gKKuntXN5mQpp1OyxBLp1ieTDJJwvgXV3gxYLh2Qvt5Ia4s1x74lymuHIZJKyQNJm55/3ATFpvS9hYUfTly/5ukpXRLyq/KF0ihHiMDPIBdOebFDNNCqV1cB2FirCeu+LWDGWdJsQGYUKTNAC5t4yShYs3mnUs73BvbdSdTjO38JneAx/cqJBOrvEtdFOvPkyEfKlyT0AMy0e3JzaxcbBccuBrq+VoIZjDSrRyl2mXT9sBn8g6zWzuTZqCw1v6mkF0qZUe3mttR+mV8imUH43MDCZBql9jeTvBCu0XTP7jaT6CtfxofAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-10.png&quot;
        title=&quot;&quot;
        src=&quot;/static/8c2af3505c9fca3730ba4f0e59c6ea3d/b9e4f/settlement-assurance-10.png&quot;
        srcset=&quot;/static/8c2af3505c9fca3730ba4f0e59c6ea3d/cf440/settlement-assurance-10.png 148w,
/static/8c2af3505c9fca3730ba4f0e59c6ea3d/d2d38/settlement-assurance-10.png 295w,
/static/8c2af3505c9fca3730ba4f0e59c6ea3d/b9e4f/settlement-assurance-10.png 590w,
/static/8c2af3505c9fca3730ba4f0e59c6ea3d/f9b6a/settlement-assurance-10.png 885w,
/static/8c2af3505c9fca3730ba4f0e59c6ea3d/2d849/settlement-assurance-10.png 1180w,
/static/8c2af3505c9fca3730ba4f0e59c6ea3d/bbefa/settlement-assurance-10.png 1770w,
/static/8c2af3505c9fca3730ba4f0e59c6ea3d/d40c8/settlement-assurance-10.png 2000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;结果把我吓坏了。 取决于你具体怎么看，要么 Kraken 就是对比特币交易要求是极其严格的，要么它是对非比特币链的要求是极其宽松的。 虽然 Kraken 对于比特币交易要求有6个区块确认才算结算完成，但对于莱特币只要求12个区块确认（与比特币同等安全性的情况下应该需要174个），对于以太坊只要求30个（与比特币同等安全性的情况下应该需要173个），对于门罗币只要求15个（而与比特币同等安全性的情况下应该需要2000个）。 &lt;/p&gt;
&lt;p&gt;我的猜想是也许六次确认对于比特币来说有些太多了，而 Kraken 对其他链的较少结算要求其实会更加合理。 但不管怎么说，控制了记账成本这个变量了之后得到的这个结果还是有点搞笑的。 比如如果 QTUM 与比特币采用同样的评价标准，则需要67,000个区块确认才行，这相当于115天的等待时间。 （QTUM 可能会有一些其他我不太熟悉的结算模式，我这里的数字仅仅是根据它给区块验证人支付的钱数所计算出来的）。 &lt;/p&gt;
&lt;p&gt;当然这仅仅是该模型的一个非常简单的实现。 一个更加复杂的版本应该包含对于“非垄断链”的高安全要求，GPU 挖矿的币以及接收金额较大的交易等等。 我会建议像 Kraken 这样还没有开始系统性的考虑交易结算准则的交易所们做出一些改变。 但无论选择怎样的标准，它们都应该会对比特币要求更少的交易确认数量，而对其余更小的链要求更多的交易数量。 &lt;/p&gt;
&lt;h2&gt;一些关键点&lt;/h2&gt;
&lt;p&gt;这一切究竟有什么实际意义？ 尽管我们还需要一些工作，才能将这些变量组合成一个可以用于加密货币的日常应用的模型，我们现在已经可以总结出如下一些关键点： &lt;/p&gt;
&lt;h3&gt;1. 出块间隔是变动的，但变化很小&lt;/h3&gt;
&lt;p&gt;出块间隔减短唯一会影响的事情，就是交易获得其首次确认的时间。 如果你并不那么有耐心，你可能会更喜欢2.5分钟的出块间隔，但这并不代表交易的结算更快。 作为一个币的发行数量和单价的函数，记账成本始终还是按照那个速度在累积。 &lt;/p&gt;
&lt;p&gt;比特币的确是可以将它的区块大小减少25％并换成2.5分钟的出块间隔，并且几乎没有人会注意到其差异。 系统在功能性上是完全一致的，只不过六区块法则变成了二十四区块法则。 Satoshi 选择了10分钟的出块间隔，是因为他当时并不知道系统能够收敛到何种的程度。 网络延迟和大区块会干扰验证，并使节点之间的收敛更加困难。（译者注：当系统网络情况较差时，区块往往不能被很好的广播到全网所有节点，链上会出现较多的分叉和叔块；相反当网络情况较好时，区块广播更加完全，链上会出现较少的分叉和叔块，各节点认的主链也会更一致，整个网络更加收敛） 10分钟这个健康的出块间隔为系统提供了充足的时间，并且还让我们了解了 Satoshi 当是想构建的是个怎样的系统（提示：并不适合面对面的小额支付）。 &lt;/p&gt;
&lt;p&gt;对于一些小额交易来说，第一次确认确实有点用，因为只有当你的交易被包含在了一个区块中被挖出后，才能被后续区块压在身下。 而且较小的出块间隔可以减少每日增发量的浮动。 但除此之外，出块间隔可以是完全任意的。 对于结算来说，每单位时间的安全支出才是除了记账成本质量之外的关键问题。 较小的出块间隔只是把安全性累积的过程的颗粒度分割的更小而已。 它并不会让结算完成更快。 &lt;/p&gt;
&lt;h3&gt;2. 要么是比特币提供的安全性过多了，要么是其他区块链正处于危险之中&lt;/h3&gt;
&lt;p&gt;这是能从本文的各种比较之中能看出的最明显的结论了。 如果你只是按照每单位时间支付给交易选择者们（矿工或区块验证者）的薪水来衡量区块链安全性的话，那么在大多数情况下，它们与比特币相比是非常脆弱的。 这从这张图表就能看的出来。 除了比特币，以太坊和莱特币，图表上几乎看不清其他任何链。这是因为他们的在安全性方面的支出实在是太少了。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/31493efc1bb15a948f2ccc785560db1c/d40c8/settlement-assurance-11.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 33.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAHCAIAAACHqfpvAAAACXBIWXMAAAsSAAALEgHS3X78AAAA1klEQVQY05VQyW7EIAzl/79zElwCZCEDxAvU1lx6aaVaT5Yt/Bbhhsgc/y5hniJORMacorsO1m34rfSg3vU6SyuFanXcm/SuLJUYTH8bzjnPvQSI912wd4e1Ue1439xMRfCRRzsK4cfrJ5R+lXNL8TovInJErHpCzP3hh5hYhIXJ+B8J7cwGxEH0jhCWJR8HGxlZw+oxsz4ZSyE8DCqEZN9AZLAcE1s78l7KW11dDGvcIKevQ8OkeKSwb5C+1hx89H73kBeIK2wvvy2QPKQVMoS8vtqZvwHyzpgUVS8lhgAAAABJRU5ErkJggg==&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-11.png&quot;
        title=&quot;&quot;
        src=&quot;/static/31493efc1bb15a948f2ccc785560db1c/b9e4f/settlement-assurance-11.png&quot;
        srcset=&quot;/static/31493efc1bb15a948f2ccc785560db1c/cf440/settlement-assurance-11.png 148w,
/static/31493efc1bb15a948f2ccc785560db1c/d2d38/settlement-assurance-11.png 295w,
/static/31493efc1bb15a948f2ccc785560db1c/b9e4f/settlement-assurance-11.png 590w,
/static/31493efc1bb15a948f2ccc785560db1c/f9b6a/settlement-assurance-11.png 885w,
/static/31493efc1bb15a948f2ccc785560db1c/2d849/settlement-assurance-11.png 1180w,
/static/31493efc1bb15a948f2ccc785560db1c/bbefa/settlement-assurance-11.png 1770w,
/static/31493efc1bb15a948f2ccc785560db1c/d40c8/settlement-assurance-11.png 2000w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;当然这不一定是致命的。 也有可能是比特币在安全方面的支出有点过多了，工作量证明机制比我们想象的“还好”。 这实际上是我目前的看法，考虑到目前的区块奖励和高币价，比特币也许在安全性方面的支出有些“过量”了。 但这的确让它被包裹在了一个温暖的毯子里，让它在进入它的青年时期时有一个很好的保护。 &lt;/p&gt;
&lt;p&gt;所以对于较小的区块链来说，这些数据不一定代表了末日降临。 毕竟，尽管 Satoshi 制定了六块法则，但对于大多数交易来说，1个或2个块就已经足够了。 这将减轻那些试图赶上比特币的安全支出的区块链的重负荷。 &lt;/p&gt;
&lt;h3&gt;3. 结算始终是概率性的&lt;/h3&gt;
&lt;p&gt;我承让每当新的区块链吹嘘他们交易“绝对最终性”的时候我都会稍微怼那么一下。 真正能够获得交易最终性的方法是让某个组织进行交易担保并有效的支持交易。 但是当这种情况发生时，那些希望交易回滚的主权机构（比如当他们怀疑其中涉及犯罪活动时）通常都会要求该担保组织对交易进行回滚，在看起来已经达到的最终态上戳一个洞出来。&lt;/p&gt;
&lt;p&gt;
  &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/02859b210cffc38d9a2636ed77fbe9b8/fa92b/settlement-assurance-12.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
  
  &lt;span
    class=&quot;gatsby-resp-image-wrapper&quot;
    style=&quot;position: relative; display: block;  max-width: 590px; margin-left: auto; margin-right: auto;&quot;
  &gt;
    &lt;span
      class=&quot;gatsby-resp-image-background-image&quot;
      style=&quot;padding-bottom: 50.5%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAKCAIAAAA7N+mxAAAACXBIWXMAAAsSAAALEgHS3X78AAABB0lEQVQoz22Ri26EIBBF/f8PNLGsxkZNjYKvqKC89gKR6rY3xDDMuTMwJlrrb6+iKKqqKsuyaZrXi/R9b72UUqUXIQSpPM+BfREyz3MS0tLLGKO8jlMpre1TxgvNsAsnCYJpmmC4CLtxtQt1AfYDcM204YcDknAlc7Hi1OJQ92540R3YhdyElMqFCU5RGHcOuXWXsWf0R4AfEium3JuXZQm549S4sP2jCKz8vFd+mLddam1Ctw8zZooMzHFyv2bkEIpD2/8UAMxI6UdRZ+66jjH203aUMnAI8T/v4/UABcDYsMzzMAx1XXPOnXnyopTiK4TAZl3XewecjyOAHqXbtk3TNMuycRzfyWFELE9hV9wAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;&quot;
    &gt;
      &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        style=&quot;width: 100%; height: 100%; margin: 0; vertical-align: middle; position: absolute; top: 0; left: 0; box-shadow: inset 0px 0px 0px 400px white;&quot;
        alt=&quot;Image: settlement-assurance-12.png&quot;
        title=&quot;&quot;
        src=&quot;/static/02859b210cffc38d9a2636ed77fbe9b8/b9e4f/settlement-assurance-12.png&quot;
        srcset=&quot;/static/02859b210cffc38d9a2636ed77fbe9b8/cf440/settlement-assurance-12.png 148w,
/static/02859b210cffc38d9a2636ed77fbe9b8/d2d38/settlement-assurance-12.png 295w,
/static/02859b210cffc38d9a2636ed77fbe9b8/b9e4f/settlement-assurance-12.png 590w,
/static/02859b210cffc38d9a2636ed77fbe9b8/f9b6a/settlement-assurance-12.png 885w,
/static/02859b210cffc38d9a2636ed77fbe9b8/2d849/settlement-assurance-12.png 1180w,
/static/02859b210cffc38d9a2636ed77fbe9b8/fa92b/settlement-assurance-12.png 1400w&quot;
        sizes=&quot;(max-width: 590px) 100vw, 590px&quot;
      /&gt;
    &lt;/span&gt;
  &lt;/span&gt;
  
  &lt;/a&gt;
    &lt;/p&gt;
&lt;p&gt;我们用 EOS 来举个例子。 根据 EOS Canada 提供的信息，EOS 有一个名为 &lt;a href=&quot;https://www.eoscanada.com/en/abc-eos#lib&quot;&gt;Last Irreversible Block&lt;/a&gt; （LIB） 的概念，&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;它指的是你可以用100％的信心相信该交易是达到了&lt;a href=&quot;https://www.eoscanada.com/en/abc-eos#finality&quot;&gt;最终态&lt;/a&gt;的，是被完全确认了和&lt;a href=&quot;https://www.eoscanada.com/en/abc-eos#immutable&quot;&gt;不可改变&lt;/a&gt;的。 如果某个交易对应的&lt;a href=&quot;https://www.eoscanada.com/en/abc-eos#block&quot;&gt;区块&lt;/a&gt;高度低于了 Last Irreversible Block （LIB）的区块高度，这就说明这笔交易被认为是达到了最终态了的。 &lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;根据 &lt;a href=&quot;https://eosnetworkmonitor.io/&quot;&gt;EOS Network Monitor&lt;/a&gt; 显示，目前的 LIB 区块前面有330 个区块, 相当于大概2分40秒。 这表示 EOS 所声称的结算时间非常短。 &lt;/p&gt;
&lt;p&gt;但这里有一个问题。 EOS （曾经？）有一个这样的政府流程：个人可以通过该流程向“EOS 核心仲裁委员会（ECAF）”申请冻结或者返还被偷的币。这个流程可以有效的逆转很久以前就被结算了的交易。 这样的交易逆转在2018年6月的时候曾&lt;a href=&quot;https://www.coindesk.com/eos-blockchain-arbitrator-orders-freeze-of-27-accounts&quot;&gt;发生过一批&lt;/a&gt;。 由于当时只有21个实体（出块人）负责处理交易，并且他们都有可被追责的领导人，所以这个流程在当时是可能的。 &lt;/p&gt;
&lt;p&gt;也许很多旁观者们会为被盗资金归还这样的事情起立鼓掌，但从交易结算的角度来看，这会让区块链丧失一些用户们对该区块链的所重视的品质。 在实践中，任何可以实现交易逆转的机制都可能会被滥用。 正是因为退款欺诈行为的猖獗，信用卡才在交易中加入了一些交易费用。&lt;/p&gt;
&lt;p&gt;可以想象一个稍微复杂点的骗局，比如有人在 P2P 交易中卖出了一些 EOS，然后将该交易投诉到 ECAF，说自己受到了诈骗，并要求返还其 EOS。 这就是一种行政手段干预而导致的结果。 &lt;/p&gt;
&lt;p&gt;这样的例子还有很多，在这里我先仅提供这一个作为示例。 实际上有许多的区块链都会声称他们拥有完整且有效的获得交易最终性的方法，但又同时增加了能够自主回滚交易和冻结账户的方法在他们的系统之中。 这时你仍然需要去考虑交易被逆转的可能性，即使它并没有被明确的编码进系统当中。 &lt;/p&gt;
&lt;h3&gt;4. 比特币透明的 PoW 机制公开了其安全评价模型&lt;/h3&gt;
&lt;p&gt;再引用一次 &lt;a href=&quot;https://www.bloomberg.com/opinion/articles/2019-01-16/bitcoin-and-other-cryptocurrencies-are-open-about-being-at-risk&quot;&gt;Elaine Ou&lt;/a&gt; 的话, 比特币的安全模型的最有用的特点之一，就是它的透明和易于理解。 交易保证虽没有办法被精确的度量（“多少个确认才能结算一笔10亿美元的交易？”），但是计算为支持系统而花费的资源却很简单。 在任何时候，任何人都可以轻易的算出需要多少算力才能操纵这个系统（通过做一些粗略的假设）。 这么多年来，已经形成了一个很明确的事实，那就是除了国家队以外，没有任何一个实体可以拿出足够的资源来战胜比特币系统中诚实的大多数。 &lt;/p&gt;
&lt;p&gt;相比之下，其他的区块链通过对其设计的含糊其辞，或者是一些不透明的最终性机制，来将其安全模型隐藏在其复杂性之下。 比如 Verge 在它的工作量证明机制中集成的五种哈希函数就成了&lt;a href=&quot;https://www.coindesk.com/verges-blockchain-attacks-are-worth-a-sober-second-look&quot;&gt;压死骆驼的最后一根稻草&lt;/a&gt;。 一个攻击者发现可以通过针对其中的一个哈希函数“定时攻击”进行来将挖矿难度降低到1。 相比于为系统提供更高的安全性，引入的复杂性反而为系统带来更多的攻击面。 &lt;/p&gt;
&lt;h2&gt;总结&lt;/h2&gt;
&lt;p&gt;以下是我认为这篇文章的一些关键点。 千万不要将一笔交易在工作量证明机制中的结算过程简单看作是交易确认数量的函数，而要将它看成是一个类似木材石化一样的缓慢过程。 它会以一个给定的速率进行，并且无法被加速。 这个速率由上面所列举的那些变量决定：主要包括记账成本，交易大小和获取其挖矿硬件的难度。 一旦结算完成，木材将完全被矿物质给替换并且变得坚如磐石，而不是像原来一样柔软和可塑。 关于这块木材的特征将被永远的保留。 &lt;/p&gt;
&lt;p&gt;类似的，正如 Nick Szabo 所说，区块链是&lt;a href=&quot;http://typical%20computers%20are%20computational%20etch-a-sketch%2C%20while%20blockchains%20are%20computational%20amber./&quot;&gt;可以进行计算的琥珀&lt;/a&gt;。 琥珀出生时仅仅是树的汁液，后来才慢慢变硬，并且在这个过程中存储了一些信息（比如昆虫 DNA等）。 将过去对于账本的变更掩埋在不可伪造的成本证明之下的这个过程，同样提供了缓慢增长的交易结算保证。 随着越来越多的区块累积，区块链的“重力”开始发挥其作用，并使很久之前的交易的重写变得非常的昂贵和笨重。 &lt;/p&gt;
&lt;p&gt;矿工获得奖励（成本的来源）取决于币的发行数量，单价和交易手续费用。 这其中除了发行之外，都是不可被编程的。 仅凭一个比较高的发行量是不能保证安全性的，必须要有投资者们为这条链的未来买单并且支持它的价值。 从这个意义上说，工作量证明制度提供的强交易保证是无法被设计出来的，它们只能自行出现。 这是否是个令人沮丧的结论，就取决于你怎么看它了。 &lt;/p&gt;
&lt;p&gt;本文中，我尝试列举出那些影响区块链交易结算保证的关键变量，尤其是那些基于工作量证明的变量。 但你应该注意到了我并没有提供任何正式的模型和推荐的解决方案。 这其中许多变量并不容易被量化，也可能有一些我遗漏掉的变量存在。 也许在我之后的下一位作者能提供一个更加全面，或者是更注重于实现的模型。 &lt;/p&gt;
&lt;p&gt;如果我们今天忽视这些问题，在未来我们一样会被迫去面对它们。 随着市场上逐渐增多的做空流动性，全新的攻击类型将会随之出现，交易所们也会发现它们渐渐成为众矢之的。 同样的，由于一些主流托管机构和清算机构开始接受总计数亿或数十亿的加密货币存款，他们也需要开始制定正式的结算规则。 他们将更加竭尽全力的去深入思考它们所依赖区块链的安全性。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;感谢 Toya 主编～也感谢迪波，Williams，肖杰等小伙伴们做出的贡献。&lt;/p&gt;
&lt;/blockquote&gt;</content:encoded></item><item><title><![CDATA[US Security Issurance Compliance Framework]]></title><description><![CDATA[Security InsuranceIPOExempt OfferringsTrading SystemATS]]></description><link>https://www.haichaozhu.com//us-securiy-issurance-compliance-framework/</link><guid isPermaLink="false">https://www.haichaozhu.com//us-securiy-issurance-compliance-framework/</guid><pubDate>Fri, 17 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Security Insurance&lt;/h2&gt;
&lt;h3&gt;IPO&lt;/h3&gt;
&lt;h3&gt;Exempt Offerrings&lt;/h3&gt;
&lt;h2&gt;Trading System&lt;/h2&gt;
&lt;h3&gt;ATS&lt;/h3&gt;
&lt;h3&gt;&lt;/h3&gt;</content:encoded></item><item><title><![CDATA[BTC as Money Anchor]]></title><description><![CDATA[October 2018, Satoshi Nakamoto published the Bitcoin whitepaper. In the paper he addresses the Bitcoin system as a peer to peer electronic…]]></description><link>https://www.haichaozhu.com//btc-as-money-anchor/</link><guid isPermaLink="false">https://www.haichaozhu.com//btc-as-money-anchor/</guid><pubDate>Thu, 16 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;October 2018, Satoshi Nakamoto published the Bitcoin whitepaper. In the paper he addresses the Bitcoin system as a peer to peer electronic cash system. In another word, Satoshi wanted it to be a payment system that use the token BTC as Medium of Exchange and Unit of Account. In another word, a new money.&lt;/p&gt;
&lt;h2&gt;BTC as Money and Gold&lt;/h2&gt;
&lt;p&gt;Soon after its release, pioneers realized that being money is actually not feasible, as BTC has a predefined supply schedule that nobody can alter. Money is not just printed papers. The supply of money should be dynamically adjusted according to the demand of money, which is determined by the growth of the economics system that this money is serving. E.g. the supply of US dollars should be increased according to the growth of US economics. If US’s GDP grows for 10%, then the supply of US dollars should be increased for 10% accordingly. Otherwise we will face the money deflation problem that we encountered &lt;a href=&quot;https://en.wikipedia.org/wiki/Deflation#Historical_examples&quot;&gt;in the history for many times&lt;/a&gt;. &lt;/p&gt;
&lt;p&gt;Besides of this reason, from a high level perspective, maintaining a money has a cost, which is hard to be covered with only the public blockchain system due to is decentralization nature.&lt;/p&gt;
&lt;p&gt;So, BTC can not be money.&lt;/p&gt;
&lt;p&gt;Gold is commonly regarded as a value preservation asset (aka store-of-value). It has a limited supply on this planet and cannot be artificially fabricated. &lt;/p&gt;
&lt;p&gt;You may find these properties sounds familiar. BTC has all these nice properties as well and even better. Gold requires special techniques and environment to custody, which is a huge cost for individuals to posses it as investment asset. BTC is a digital formed asset, which means it is almost imperishable. It surely costs some electricity, but comparing to gold it enables self-custodian that you do not have to turn to third party institutions for custody service. &lt;/p&gt;
&lt;p&gt;So, BTC can be the new gold.&lt;/p&gt;
&lt;h2&gt;BTC as Money Anchor&lt;/h2&gt;
&lt;p&gt;The fiats today are mostly credit based currencies, which means they are basically backed by national credit. The basic process of creating money is that first the government (treasury department) issues national debt, then central bank purchase the debt with paper money that they printed (or create deposits on the government account in the central bank). So the source of money is actually the debt of national government, which is actually backed by national credit with the calculated authorities and capitals (such as army and weapon).&lt;/p&gt;
&lt;p&gt;The problem with the credit based currency is the opposite of the gold based currency, the inflation. As mentioned before, the currency inflation is supposed to be aligned with the economic growth, but credit based currency has a tendency of over inflation.&lt;/p&gt;
&lt;p&gt;so it appears that purely credit based currency does not work very well either, then what will be the future of fiat?&lt;/p&gt;
&lt;p&gt;I’m thinking maybe a money that use BTC as anchor. I.e. a balance sheet that has 20% BTC and 80% credit based asset on its left side. The presence of BTC on balance sheet would limit the inflation. Countries will have their own mining farms to yield BTC, whose distribution will not be limited by geographic like gold did. Isn’t it an appealing future?&lt;/p&gt;
&lt;p&gt;You may argue that we already have such a history like this that use 20% gold and 80% credit for money making. Sure we did, but time has changed right? The history of money is history of human intelligence fighting against the human nature. As only humans ourselves, who konws what’s gonna work and what’s not. :)&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Thoughts on Governance]]></title><description><![CDATA[This week’s CW we got a speaker Jian from EthFans talking about the governance mechanisms in blockchain systems.This is the second time for…]]></description><link>https://www.haichaozhu.com//thoughts-on-governance/</link><guid isPermaLink="false">https://www.haichaozhu.com//thoughts-on-governance/</guid><pubDate>Wed, 15 May 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This week’s CW we got a speaker Jian from &lt;a href=&quot;http://ethfans.org/&quot;&gt;EthFans&lt;/a&gt; talking about the governance mechanisms in blockchain systems.&lt;/p&gt;
&lt;p&gt;This is the second time for Jian to talk about this. There’s a &lt;a href=&quot;https://ethfans.org/ajian1984/articles/36261&quot;&gt;recap&lt;/a&gt; online for his last talk on this. &lt;/p&gt;
&lt;p&gt;Here are some points we have been talked about.&lt;/p&gt;
&lt;h2&gt;On-China Governance.&lt;/h2&gt;
&lt;p&gt;Pure on-Chain governance is a bad idea. The idea is that basically instead of letting the block producers to determine what should be the state stored on-chain and how should the chain works, on-chain governance mechanism (e.g. Tezos) suggests that we should have another voting mechanism implemented on-chain that let people vote for the governance result with their voting tokens. This is a bad idea as it tends to take the governance power away from the block producers (BP). BPs are competitors to each other as they want to fight for the right of producing blocks, so it is nature and healthy for them to vote for the governance of the blockchain system. However, if we have another mechanism that give the power of voting to someone else, these may not necessarily have the competitor relationship to each other.&lt;/p&gt;
&lt;h2&gt;What is the Goal for a Governance Mechanism?&lt;/h2&gt;
&lt;p&gt;So a lot of people are talking about it is very important for public blockchain to have a governance mechanism, but not a lot have explained why. It would make sense if we want to design something to solve a specific problem. However when it comes to governance, I think we have no idea what is the problem we are trying to solve here.&lt;/p&gt;
&lt;p&gt;Some people may argue that fork is bad, and we should use governance to avoid fork. Some may think that it’s too hard to update the public blockchain system, so we need an explicit flow for making changes to the blockchain system.&lt;/p&gt;
&lt;p&gt;The problem here is that bad and good are always a matter of perspective. When a fork happens, it definitely mean that someone is gonna be happy for this fork to happen. Because if no one is happy about doing a fork, then there will be no fork in the first place. Same to the upgrading a public blockchain system.&lt;/p&gt;
&lt;p&gt;But making people happy is still a good starting point for thinking about what is the objective of a governance mechanism. The existence of government is also for making every person governed by them happy. At least this is what a government may claim. &lt;/p&gt;
&lt;p&gt;So if we make the objective of designing a governance mechanism be making every user of a public blockchain happy. Then maybe we can refer to &lt;a href=&quot;https://zh.wikipedia.org/zh-hans/%E6%AD%A3%E4%B9%89%E8%AE%BA&quot;&gt;A Theory of Justice&lt;/a&gt; from John Rawls. This basic idea in it is that to bring justice to the society, we should emphasize on freedom of choice. This means that everyone should have the freedom to make their own choice.&lt;/p&gt;
&lt;p&gt;I personally agree with Rawls on this. In a public blockchain system, we should let every user to have the freedom to make choice for every transactions or even the future development direction of this public blockchain system.&lt;/p&gt;
&lt;p&gt;Although in this process, some people may have more vote than others because they have more accumulated capitals that can be converted into votes, this should not obey the theory of justice. Some may have more willingness to vote, and some may just don’t give a shit about how this system works.&lt;/p&gt;
&lt;p&gt;According to the theory of justice, all of these does not matter because all of them have been given the freedom of choice. So even if some of them may still complaint about the final result, there’s nothing more we can optimize here.&lt;/p&gt;
&lt;h2&gt;Let Great People have More Votes&lt;/h2&gt;
&lt;p&gt;Someone from the discussion mentioned an idea of making a reputation system to let better people have more votes for governance. I personally think this is neither necessary nor easy to do.&lt;/p&gt;
&lt;p&gt;In my argument, people that have some good attributes or properties should naturally result in a larger position of capitals (averagely speaking). The capital here could be money, or it could be influence. &lt;/p&gt;
&lt;p&gt;These “great” people can then use these capitals to “buy” more votes in a governance. It means that they already have more rights for voting than others. So I don’t think there is a need to give them another layer of weighting, according to the same properties and attributes.&lt;/p&gt;
&lt;p&gt;It is also hard to build such a system. If this system has some rules defined by humans, then some humans could definitely figure out the rules and optimize themselves according to it. &lt;/p&gt;
&lt;p&gt;So AI based reputation systems here would be an appealing solution. But I don’t know how would that goes.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[Blockchain Technology Map]]></title><description><![CDATA[Blockchain System ExamplesBitcoinEthereumBasic Blockchain StructuresBlockTransactionState ModelUTXOAccountEOAContractDAGBlockchain System…]]></description><link>https://www.haichaozhu.com//blockchain-technology-map/</link><guid isPermaLink="false">https://www.haichaozhu.com//blockchain-technology-map/</guid><pubDate>Thu, 11 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;h2&gt;Blockchain System Examples&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Bitcoin&lt;/li&gt;
&lt;li&gt;Ethereum&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Basic Blockchain Structures&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Block&lt;/li&gt;
&lt;li&gt;Transaction&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;State Model&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;UTXO&lt;/li&gt;
&lt;li&gt;Account&lt;/li&gt;
&lt;li&gt;EOA&lt;/li&gt;
&lt;li&gt;Contract&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;DAG&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Blockchain System Components&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Database&lt;/li&gt;
&lt;li&gt;Network Protocol&lt;/li&gt;
&lt;li&gt;Interface&lt;/li&gt;
&lt;li&gt;Mempool&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Blockchain System&lt;/h2&gt;
&lt;h2&gt;Cryptographic&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Zero Knowledge Proof&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;ZK-SNARK&lt;/li&gt;
&lt;li&gt;ZK-STARK&lt;/li&gt;
&lt;li&gt;Bulletproof&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Asymmetric Encryption&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Elliptic Curve&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Hash Function&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;SHA256&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Layer 0&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;FIBRE&lt;/li&gt;
&lt;li&gt;BDN&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Layer 1&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Consensus Algorithm&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proof of Work&lt;/li&gt;
&lt;li&gt;Proof of Stake&lt;/li&gt;
&lt;li&gt;Proof of Space&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;VM&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;EVM&lt;/li&gt;
&lt;li&gt;WASM&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Layer 2&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Payment Channel&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;State Channel&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Application Specific State Channel&lt;/li&gt;
&lt;li&gt;Generalized State Channel&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Side Chain&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Proof-of-Authority&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Plasma&lt;/li&gt;
&lt;li&gt;Roll-Up&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Layer 2.5&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Node Service&lt;/li&gt;
&lt;li&gt;Blockchain Explorer&lt;/li&gt;
&lt;li&gt;Wallet Service&lt;/li&gt;
&lt;li&gt;IDE&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Layer 3 (Application Layer)&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Games&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;DeFi&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Stable Coin&lt;/li&gt;
&lt;li&gt;Lending&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Cross-Chain&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Notary&lt;/li&gt;
&lt;li&gt;HTLC&lt;/li&gt;
&lt;li&gt;Network Typology&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Off-Chain&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;Exchange&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Centralized Exhcnage&lt;/li&gt;
&lt;li&gt;OTC Market&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;Wallet&lt;/li&gt;
&lt;li&gt;Stable Coin&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;Token Economics&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;Native Token&lt;/li&gt;
&lt;li&gt;User Defined Token&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Post Template]]></title><description><![CDATA[This is a post template.You will not see this post on the website as its  is set to .The website needs at least one post to have  and…]]></description><link>https://www.haichaozhu.com//post-template/</link><guid isPermaLink="false">https://www.haichaozhu.com//post-template/</guid><pubDate>Thu, 11 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;This is a post template.&lt;/p&gt;
&lt;p&gt;You will not see this post on the website as its &lt;code class=&quot;language-text&quot;&gt;status&lt;/code&gt; is set to &lt;code class=&quot;language-text&quot;&gt;draft&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;The website needs at least one post to have &lt;code class=&quot;language-text&quot;&gt;description&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;status&lt;/code&gt; attributes, otherwise there will be errors.&lt;/p&gt;</content:encoded></item><item><title><![CDATA[公链 Token 经济模型的可持续发展性]]></title><description><![CDATA[经济模型的主语是公链 Token，而不是公链。作为货物或货币的 Token 才有经济模型，而链本身只是实现了共识。一个公链，它既为 Token 服务（e.g. 记录账本），又被 Token 所服务着（e.g. 激励矿工）。这篇文章就是想讲讲公链本身是如何被 Token…]]></description><link>https://www.haichaozhu.com//public-chain-token-economic-sustanability/</link><guid isPermaLink="false">https://www.haichaozhu.com//public-chain-token-economic-sustanability/</guid><pubDate>Thu, 11 Apr 2019 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;经济模型的主语是公链 Token，而不是公链。作为货物或货币的 Token 才有经济模型，而链本身只是实现了共识。一个公链，它既为 Token 服务（e.g. 记录账本），又被 Token 所服务着（e.g. 激励矿工）。&lt;/p&gt;
&lt;p&gt;这篇文章就是想讲讲公链本身是如何被 Token 所服务的，而作为 Layer1 的公链有需要拥有怎样的经济模型的 Token 来为其服务，才能实现可持续发展。&lt;/p&gt;
&lt;h2&gt;公链上的 Token 对公链的作用&lt;/h2&gt;
&lt;p&gt;首先定义下什么是公链。不同的人对公链这个概念可能有不同的定义，我这里只说一下我这篇文章对公链的定义。公链的”公”体现在两个方面，一是任何人都可以加入一个公链系统，成为公链的服务提供商；二是任何人也都可以使用公链提供的服务，要么基于这些服务进行开发，要么直接消费这些服务。&lt;/p&gt;
&lt;p&gt;这样的定义下我们可以发现，在每一个区块链系统内，都会存在着一个双边市场。市场的买方是区块链应用的开发者和使用者，而市场的卖方是支撑区块链系统，并且为区块链应用提供资源的服务提供者（矿工和全节点）。&lt;/p&gt;
&lt;p&gt;而 Token （原生的）在这个市场内就起到了一个类似货币的作用。它充当了”公链系统资源”这个物品的价值尺度和交换媒介：矿工和节点付出资源，获得 Token；用户和开发者消耗资源，付出 Token。&lt;/p&gt;
&lt;p&gt;“公链系统资源”可以进一步被分为计算，带宽和存储这三种资源。一般来说，这三种资源均以原生 Token 定价（如比特币）；有时也会用另一种 Token 作为这些资源的价值尺度（如 EOS 中的 RAM，CPU 和 NET）。&lt;/p&gt;
&lt;p&gt;借助 Token，买卖双方会进行直接和间接的两种交易。直接的方式，是用户在发送交易到区块链时，直接付手续费给矿工方；间接的方式是通过 Token 的增发和销毁。增发意味着对所有持币人进行收税，因为增加的 token 量会稀释他们手中的币的价值；相反销毁币意味着对所有持币人进行分红，因为减少 token 的数量会让他们手中的币更稀有，也就更值钱。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;“类似货币”意味着它不是货币。货币是一种性质，它是个形容词。如果某个东西具有价格尺度 （Unit of Account），交换媒介（Medium of Exchange）和价值存储（Store of Value）这三种货币性，为了说着顺口，我们一般就可以称它为一种货币。对于公链 Token，一方面它可能并不完全具备这三种性质，另一方面它只服务于一个很小的市场，所以我个人认为它本身并不是我们传统意义上的货币。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;这是公链 Token 的第一个作用，是作为买卖公链系统资源的通货，&lt;/p&gt;
&lt;p&gt;公链的 Token 的另一个作用是维护公链系统安全性。&lt;/p&gt;
&lt;p&gt;一般来说，公链的安全性是指它防止链上数据被篡改的能力。篡改链上数据一般需要通过攻击者自行构建一个区块，其中包含对自己有利的交易，并尝试让这个区块被全网所有节点所接受。一个经典的例子就是所谓的 51% 攻击（或者叫女巫攻击）。&lt;/p&gt;
&lt;p&gt;我们可以通过计算这类攻击的成本和收益，来衡量一个公链系统抗衡这类攻击的能力。只有当攻击的收益大于攻击成本，且攻击成本可以被达到时，攻击才会发生，反之攻击则不会发生。再拿比特币举个例，攻击比特币的流程是：首先集结足够算力，然后构造一笔给自己无中生有许多比特币的交易，接着发起攻击，并在产生流动性危机前在市场上将这些币抛售掉。这个过程中，攻击比特币的成本是成功攻击所需要的总算力；攻击成功后获得的收益是卖币能获得的总金额。这种情况下，降低攻击收益就不是一个很好的抗攻击策略了，因为收益比较难以衡量并且不可控。这样的话就只剩下增加攻击成本这条路了。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;51% 攻击是概率性攻击。拥有一半以上算力对攻击成功来说，既不是充分条件也不是必要条件。就算你的算力再小，只要坚持不懈，说不定总有一天会成功的；就算你的算力再大，还是可能永远不成功。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;比特币正是通过奖励矿工 Token 的方式来吸引更多的算力，从而增加系统的攻击成本，从而提供系统的安全性。同时，比特币的价值会影响矿工的挖矿意愿，当币价越高，就会有越多的矿工来挖矿，贡献更多的哈希算力。所以，就可以得到这样的一个结论：PoW 公链的 Token 价值越高，公链的安全性越好；反之，安全性就会出现问题。&lt;/p&gt;
&lt;p&gt;总结一下，公链的 Token 有两个作用：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;作为买卖公链系统资源的通货&lt;/li&gt;
&lt;li&gt;维护公链的系统安全性&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;上面所说的 Token 均指公链的原生 Token，智能合约平台上用户自行发行的 Token （UDT, User Defined Token）会在下一节引入。&lt;/p&gt;
&lt;h2&gt;公链经济模型的分析框架&lt;/h2&gt;
&lt;p&gt;这里提出的分析框架的意义，是在于研究怎样的公链 Token 能够更好的为公链提供服务，能为公链系统的可持续的发展提供积极的意义。&lt;/p&gt;
&lt;p&gt;到了这里，公链又要分为两种：第一种是链上只有一种 Token，即链的原生 Token 的链；第二种是支持智能合约功能的公链，这种公链可以作为一个平台，让用户和开发者自己在上面发行 UDT。&lt;/p&gt;
&lt;p&gt;Token 的经济价值将来源于 Token 自身的效用。&lt;/p&gt;
&lt;p&gt;这里的效用是指除了上一节中所描述的，Token 对于公链自身的功能以外的，对外所提供的功能。比如比特币的 Token 的功能性，是作为一个点对点的支付工具，用户可以使用它作为一个通货来买卖货物。&lt;/p&gt;
&lt;p&gt;简单来说，当用户对某个 Token 的功能的需求越高，Token 的内生价值也就越高。这里的原因可以用简单的微观经济学来解释：当一个商品的需求增大时，它的需求曲线会上移，那在供给不变的情况下（大部分货币的供给不随需求改变），价格就会升高。（我这里混淆了价格和价值，假设价值完全由其价格来衡量）&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;所以某种程度上一个 Token 就是一个产品。它所实现的功能完成度越好，越能满足用户的需求，这个 Token 就越有意义。有意思的是我正在写这个文章的这个时间点是北京时间4月2日上午，BTC 刚刚迎来一波暴涨，然后现在正在往回跌。推特上很多人对此非常兴奋，觉得这是利好。但看了我的分析，我希望你能理解，这种幅度的价格震荡对于 BTC 作为一个支付工具来说是多么大的一个利空。这只会让更少的用户愿意来使用 BTC，它的价值也会因此受损。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;对于上述的第一种公链，即只有原生 Token 的公链，分析起来会相对简单。当用户群体对某个公链的 Token 给他们所提供的功能有足够的需求时，这个 Token 本身就会拥有足够强的流动性，能够很好的在公链系统内充当通货；同时，Token 的价值也会更高，所以公链的安全性也会更好。这个公链也就更有可能持续的发展下去。相反如果用户对这个 Token 没有需求，那它作为交换媒介的功能也就会更弱，公链的安全性也会受到影响，&lt;/p&gt;
&lt;p&gt;对于第二种，能够支持 UDT 的公链来说，由于有 UDT 的存在，情况会相对复杂，下面具体解释说明这其中需要解决的两个关键问题。&lt;/p&gt;
&lt;h3&gt;公地悲剧问题&lt;/h3&gt;
&lt;p&gt;经济学里有一个经典的故事叫做公地悲剧（ The Tragedy of Common）。公共草地上，有一群牧羊人。每一个牧羊人都想要多获利一些，所以某个牧羊人就带了大量的羊来放牧，虽然他知道过度放牧，草地可能会承受不住。但他依然获利了，而后所有的牧羊人都跟进，所以草地牧草耗竭，悲剧因而发生了。&lt;/p&gt;
&lt;p&gt;这个问题对于智能合约公链来说同样存在：公链就像是”草地”，而”羊”就是公链上发行的 UDT，UDT 的发行者和使用者们，就是故事中的”牧羊人”。&lt;/p&gt;
&lt;p&gt;在公链上发行和使用 UDT 时，都会占用公链的资源，每一个用户都想更多的占有这些资源来满足自己的需求。即使他们知道这会带来不好的影响，但为了自身利益依然会继续占有这些资源，最终导致公链的运行成本大幅增加，导致去中心化特性枯竭。&lt;/p&gt;
&lt;p&gt;这里更准确的说，“草地”应该特指公链上的存储资源。由于现在的大多数公链平台，都会对计算和带宽资源通过交易手续费进行收费，所以这部分的资源实际上不算是”公地”，而是市场内部的商品。但是存储资源却很少有公链考虑。另外，与计算和带宽不同的是，存储资源的消耗是与时间维度相关的。随着存储时间饿的增长，即使占用的存储空间不变，消耗的”存储资源总量”是不断增长的。就好比租一个房子，租的时间越长，需要付的费就越多。&lt;/p&gt;
&lt;p&gt;所以公链系统中存储资源的公地悲剧问题，是在分析智能合约公链经济模型时需要考虑的一个关键问题。&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;在以太坊上，计算和带宽资源会由用户通过手续费来支付，但是存储资源的费用是没有被恰当的计算的。手续费只需要复一次，而存储资源的占用是永久的。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;公地悲剧既然是在经济学的研究中提出的问题，答案自然也可以在经济学研究中找到。解决方案简单来说，就是将公地进行市场内部化，让公地这个公共资源明码标价，成为市场内的一部分。让它像计算和带宽资源一样，谁要想用，就付 Token 出来。&lt;/p&gt;
&lt;p&gt;以太坊社区最近就在考虑处理以太坊的公地悲剧问题。社区提出了 EIP103，准备在 Serenity 阶段实施 Storage Rent 机制。即对占用状态存储的用户按占用时长收取租金。这个方案的提出代表着社区已经开始关注到了这个问题，这意味任何一个新的公链系统，都需要在自己的系统设计中对这个问题作出回应。&lt;/p&gt;
&lt;h3&gt;价值捕获问题&lt;/h3&gt;
&lt;p&gt;上面在分析第一种类似比特币的公链系统时提到了，只要这种公链的 Token 对外的功能性方面有着良好的产品设计，能够切实满足用户需求，吸引用户使用，那这个公链的安全性就可以得到保障，因此也可以持续的发展下去。&lt;/p&gt;
&lt;p&gt;对于支持智能合约的公链平台来说，UDT 的存在意味着会有各种有才华的开发者们在平台上开发出具有不同功能的 UDT 产品，这些产品同样会吸引用户使用。&lt;/p&gt;
&lt;p&gt;但这里的问题是，对于原生 token 的需求可以转换成公链的安全性，而对于 UDT 的需求是否能转换成安全性呢？比如现在以太坊上有海量的 ERC20 代币（以下简称 UDT），这些代币的对应的需求基本上就是交易，就是炒。理论上在交易这些代币的时候是需要用以太币来支付手续费的，这样对于炒这些 UDT 的需求就会转化成对原生代币以太币的需求，以太坊系统的安全性也会得到保障。但实际上，这些代币的交易都发生在链下的交易所里面，只有在提币，充币或者 OTC 的时候才会产生链上的交易。在这样的情况下，其实只有一部分的 UDT 代币需求会转化成对以太币的需求。如果随着该 UDT 的价值增高，而对应的转化到以太坊的需求的比例没有对应增长的话，那可能会出现该资产的价值超过以太币的价值的时候。这时候的以太坊就已经没有办法以足够的安全性来保管这个资产了。&lt;/p&gt;
&lt;p&gt;这个需求转化的过程也可以叫价值捕获，智能合约平台的原生代币能否成功捕获 UDT 的价值，就成了一个影响平台稳定性的关键因素。&lt;/p&gt;
&lt;h2&gt;总结一下&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;公链是双边市场&lt;/li&gt;
&lt;li&gt;支持发行 UDT 的公链相比于只有一种原生代币的公链将面临更多的挑战&lt;/li&gt;
&lt;li&gt;公链代币的经济模型机制设计需要通过外部性内在化，确保消除公链市场中的外部性&lt;/li&gt;
&lt;li&gt;智能合约平台的原生代币需要捕获其上面发行的 UDT 的价值&lt;/li&gt;
&lt;/ul&gt;</content:encoded></item><item><title><![CDATA[Blockchain Interoperability Protocols]]></title><description><![CDATA[Blockchains are self-contained systems. They generally do not have any kind of connections with each other, like isolated islands in the…]]></description><link>https://www.haichaozhu.com//blockchain-interoperability-protocols/</link><guid isPermaLink="false">https://www.haichaozhu.com//blockchain-interoperability-protocols/</guid><pubDate>Mon, 17 Dec 2018 00:00:00 GMT</pubDate><content:encoded>&lt;p&gt;Blockchains are self-contained systems. They generally do not have any kind of connections with each other, like isolated islands in the ocean. It’s not controversial that making different kinds of blockchain systems can interact with each other could introduce many benefits. The next question we might ask is how to find the right protocol design to achieve the expected interoperability applications, and I hope this post can help you to find the answer to it. &lt;/p&gt;
&lt;p&gt;This post will introduce different protocols for realizing interoperability as well as some problems that needs to be considered when utilizing them. The discussion here only considers the interaction between two blockchain systems. Interactions with other type of systems are not included in this post, as they should be discussed case by case. Also, the discussion will only be carried on a protocol level. Higher level topics, such as user experience, price discovery and order matching are not covered in this post.&lt;/p&gt;
&lt;h2&gt;What Exactly is Interoperability?&lt;/h2&gt;
&lt;p&gt;To answer this question, we can start by looking at several potential blockchain interoperability applications, and try to find the shared problems that need to be solved:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Asset Transfer / Portable Asset:&lt;/strong&gt; Alice transfers some of her coin from chainA to chainB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Asset Exchanges / Atomic Swaps:&lt;/strong&gt; Alice uses coinA on chainA in exchange for Bob’s coinB on chainB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cross-Chain Contract:&lt;/strong&gt; Alice deposits some coinA into a contract on ChainA and get some coinB on chainB&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Above describes some applications from a user’s perspective, while the actual operations take place in the blockchain systems could be something like:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;Asset Transfer / Portable Asset:&lt;/strong&gt;
Event X: Alice sends some coins to a black-hole address on chainA (to destroy or burn the coins)
Event Y: some coins are created (minted) and sent to Alice’s address on chainB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Asset Exchanges / Atomic Swaps:&lt;/strong&gt;
Event X: Alice transfers coinA to Bob on chainA
Event Y: Bob transfers coinB to Alice on chainB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;Cross-Chain Contract:&lt;/strong&gt;
Event X: Alice transfers some coins to a contract on chainA
Event Y: some coins are created and sent to Alice on chainB&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;To generalize the applications above:&lt;/strong&gt;
Event X: a transaction happens on chainA
Event Y: a transaction happens on chainB. &lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;All the event X and Y mentioned above should happen simultaneously or not happen at all (or one of them can be reverted or canceled when the other one do not happen according to a preliminary agreement). For convenience, the notion chainA, chainB, event X, event Y are used all the way through this post. Please consider them as representing the same meaning as shown above by default.&lt;/p&gt;
&lt;p&gt;By examining the generalized form of interoperability operation (the last set of event in the list above), hopefully we can arrive at the following conclusion: the essence of realizing interoperability is to design a protocol that can make sure when event X happens on chainA, chainB is able to know and verify this fact, and an event Y on chainB is enforced. To be more accurate, the word “happens” here should be replaced by the word “finalize”, which means a transaction has been agreed on blockchain by most of the validators or operators (51% or 2/3, depending on the consensus mechanism), and it has reached a state that there is a very low probability that this transaction can be altered.&lt;/p&gt;
&lt;p&gt;It should be noticed that this generalized form of interoperation is only the most basic atomic elements, and more complex protocols and applications can be built on top of it.&lt;/p&gt;
&lt;h2&gt;Notary&lt;/h2&gt;
&lt;p&gt;One intuitive method is to let a third-party notary serve as a “connector” between two chains. Here we introduce a typical procedure of a notary based interoperation scheme:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On chainB, event Y is registered along with a trigger that can be pulled by the notary&lt;/li&gt;
&lt;li&gt;On chainA, event X is finalized and the notary witnessed and verified this fact&lt;/li&gt;
&lt;li&gt;The notary trigger the event Y on chainB&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The trigger mentioned above could be instantiated in different forms. On a turing-complete blockchain, this can be implemented via a smart contract that verifies the signature of the proof. In the case that the smart contract on chainB can interpret proofs from chainA directly, the smart contract can also be triggered by the proof of event X directly, without the need of notary. This type of contract is called a relay contract, and the details are discussed in the next section. Alternatively, the registration and trigger can also be created &lt;a href=&quot;https://interledger.org/interledger.pdf&quot;&gt;using an escrow account&lt;/a&gt;. (e.g. the coin are transferred into an escrow account and transferred out later when triggered) The escrow account can be controlled by the notary, or controlled by a fourth-party that would conduct the transaction when the notary tells them to do so or when some sort of proofs are presented. &lt;/p&gt;
&lt;p&gt;The notary here can be one entity or a set of entities (a federation) that is trusted by the parties involved in this specific interoperation. In the case of federation-as-notary, different entities can also be united using a blockchain system (in the practice, it should be one that is based on PBFT, in order to reach instant-finality). Furthermore, the trust towards the notary can be derived from some existing trusted systems, such as a bank, or a highly secured and decentralized public blockchain, by designing a staking and slashing mechanism. (For example, to be a notary, one needs to stake a certain amount of coins on a public blockchain, along with a contract that describes a set of rules for being a notary. In the case of this notary acting maliciously, some “fisherman” can submit proof of this notary’s malicious activities to this contract, and get this notary punished by a penalizing their staked coins. These fishermen in turn get rewarded from these penalty. In this way, the “fisherman” is incentivized to oversee the notaries, and the notaries are incentivized to be benevolent.)&lt;/p&gt;
&lt;p&gt;Upon the registration of event Y, there should be an implementation of some sort of “cancel” or “abort” method, which can revert the registration process (e.g. send the coins back to the user from escrow account). This is a way of protecting against the case when the subsequent procedures are not conducted properly. In Additional, a timeout should also be enforced, in case the user are not available to manually call the  cancel method. Detail specifications should be designed according to the particular application concerned.&lt;/p&gt;
&lt;p&gt;There is also the option of letting user or some other third-party server to get a signature from notary, and send this signature to chainB to trigger the event Y, instead of having the notary to send the proof to chainB directly. A later section discusses The question that who the person to relay the message should be.&lt;/p&gt;
&lt;h2&gt;Relay Contract&lt;/h2&gt;
&lt;p&gt;The term “relay contract” here refers to a contract deployed on chainB that can verify the proof about a transaction’s finality on chainA, where the proof is generated on chainA directly. This can be seen as a special case of notary scheme where the operator/miner/validator of chainA plays the role as notary. Their original duty is to verify each of the transaction’s validity so that the blockchain system is maintained. The trick here is that there are some kinds of proofs generated from these blockchain-keepers’ routine verification works, and these proofs can be verified by the relay contract directly, so that the interoperation can be achieved without any intermediaries. Here’s a typical procedure of a relay contract based interoperation scheme:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;On chainB, the relay contract is deployed &lt;/li&gt;
&lt;li&gt;On chainA, event X is finalized and a proof is sent to and verified by the relay contract&lt;/li&gt;
&lt;li&gt;The event Y is triggered by the relay contract on chainB&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The most commonly used proof and verification process for relay contract is the SPV (Simple Payment Verification) introduced in Bitcoin, where SPV is used to enable light client node to verify transactions without having the full history of transaction data and UTXO set as does a full node. The basic idea is to let light client node only store the header of each of the blocks on chain, and when there’s a need to verify a transaction, a light client node would request a Merkle Proof from a full node. Essentially a Merkle proof is a Merkle Path whereby combining with block header, one can verify if a specific transaction is included in this block. (&lt;a href=&quot;https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch09.asciidoc#merkle-trees&quot;&gt;See&lt;/a&gt;&lt;a href=&quot;https://github.com/bitcoinbook/bitcoinbook/blob/develop/ch09.asciidoc#merkle-trees&quot;&gt;here&lt;/a&gt; for Merkle Trees) &lt;/p&gt;
&lt;p&gt;In the case that chainA has a relatively long time-to-finality period (e.g. bitcoin needs 6 blocks for transaction finality), one thing should be noticed is that chainB will need the information about whether the block that packed this transaction has a big enough depth. (Block depth refers to the height difference between this block and the latest block) This will require the relay contract to have data about these extra block headers (6 block headers in bitcoin’s case and around 100 in Ethereum’s case). One of the potential problems here is that processing the data of 100 block headers signature may exceeds the capability of a contract (i.e. exceeding the block gas limits). So sometimes chainB would need to synchronize all the block headers from the genesis block, and verify each of the block along with the blockchain growing. In this case, it is often said that chainB is a “sidechain” to chainA. &lt;/p&gt;
&lt;p&gt;In addition, another potential weakness is the market volatility problem. In the case when Alice wants to trade some ETH for BTC from Bob, during the period of time when Alice is waiting for her transaction to be finalized (around one hour in Bitcoin’s case), there might have been a drastic change in terms of the exchange rate on the open trading market. This market volatility might influence Alice’s (or Bob’s) willingness to conduct this trade and eventually keep the trade from happening.&lt;/p&gt;
&lt;p&gt;It also should be noticed that this approach only works on a turing-complete blockchain, in order to implement precautions against some cheat or attack patterns. One example is the “race condition attack”: in the use case of atomic swap of BTC and ETH between Bob and Alice, Bob would first deploy a relay contract on Ethereum that says whoever send 1 BTC to my address on Bitcoin can claim 1 ETH from this contract, then he could ask Alice to send 1 BTC to his address and at the same time, he send himself 1 BTC as well, then he can use the proof of his transaction to claim the 1 ETH from the relay contract. In some cases he would succeed and leave Alice with nothing and himself with 1 extra BTC. This kind of attack could be prevented by appending a script to Bob’s address on Bitcoin that says all the transactions will be ignored except only the first one. However, with Bitcoin’s existing script mechanism, it is not feasible to implement this on Bitcoin in anyway, while a mechanism like this can be easily implemented on a turing-complete blockchain.&lt;/p&gt;
&lt;p&gt;Even with turing-completeness, there’s still a chance that two turing-complete blockchain can not have interoperability with each other. This happens when two blockchains have different selections on their signature functions, serialization algorithms and hash functions. For example, an EVM based blockchain system may only have a fixed set of cryptographic functions available. When chainA and chainB have two different sets of cryptographic functions, it may cost an unacceptable amount of gas for chainA’s EVM to interpret the proof from chainB. This problem could be solved by a blockchain with a powerful enough VM on which all kinds of cryptographic primitive functions can run, such as the &lt;a href=&quot;https://medium.com/nervosnetwork/an-introduction-to-ckb-vm-9d95678a7757&quot;&gt;RISC-V based CKB-VM&lt;/a&gt; used in Nervos CKB.&lt;/p&gt;
&lt;p&gt;[Hash-Locking Diagrams]&lt;/p&gt;
&lt;h2&gt;Hash-Locking&lt;/h2&gt;
&lt;p&gt;Hash-locking is an ad-hoc technique for conducting atomic swap, which also works in a cross-chain scenario. Here’s a typical procedure for a hash-locking based interoperation scheme:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Alice generates a key and a lock, and sends the lock to Bob.&lt;/li&gt;
&lt;li&gt;Alice deploy a contract and lock it on chainA says whoever successfully unlocks this contract can claim 1 coinA.&lt;/li&gt;
&lt;li&gt;Bob deploy a contract and lock it on chainB says whoever successfully unlocks this contract can claim 1 coinB.
(now we have two contracts on two chains with the same lock, whose key is known by Alice but not Bob)&lt;/li&gt;
&lt;li&gt;Alice claim the coinB from Bob’s contract on chainB. This process reveals the key to Bob.&lt;/li&gt;
&lt;li&gt;Bob claim the coinA from Alice’s contract on chainA.&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;Here, the key and lock is usually implemented using a hash function: lock = hash (key). &lt;/p&gt;
&lt;p&gt;In this scheme, one thing that has to be noticed is the timeout setting for these two contracts. Normally timeout setting is for preventing coins from being locked in a contract forever, as stated in an earlier section. However in the hash-locking case, it is Alice that has the key at first, and this gives her some privileges that potentially she can make use of the network latency or some other environment parameters to cheat Bob. That is why when setting timeout parameters for the contract, Bob’s contract should have a longer period than Alice’s contract, so that he will have enough time to handle all kinds of situations. Bob’s contract timeout period usually should be double of Alice’s (i.e. Alice’s contract has x seconds to claim and Bob’s has 2x seconds to claim). On the other hand, due to this time-out setting, hash-locking scheme based interoperation could also be influenced by the market volatility problem mentioned above.&lt;/p&gt;
&lt;h2&gt;Additional Considerations&lt;/h2&gt;
&lt;p&gt;One of the issues that is overlooked by above discussions is that who should make the effort to pass messages (proofs) from chainA to chainB. Options include Users, Notary, Chain Miners/Validators/Operators or a Third-Party. However the thing is that the proof we are talking about here are all cryptographically signed by the proof creator. So it is sufficient to argue that the role of message relayer is not relevant to the safety of the protocol. In another aspect, the choice of this role could have significant implications on the UX and system implementation. (e.g. message relayer might charge a fee for relaying messages) &lt;/p&gt;
&lt;p&gt;Once the interoperability is achieved between two blockchain systems, there might be an emerging challenge that the difficulty level for security analysis is largely increased. First of all, the security model of both blockchain systems should be analyzed respectively. This may include trust assumptions like the liveness of blockchain or the Byzantine fault tolerance of the blockchain. Moreover, since the interoperation link is established, an attack towards chainA would very likely impact chainB, and an incident on chainB could also affect chainA. This would require a security model to be formed by considering the two blockchain systems as an integrated system, instead of two separated systems, and thus creates more challenge.&lt;/p&gt;
&lt;p&gt;[Multichain Diagrams, two topologies]&lt;/p&gt;
&lt;h2&gt;Multi-Chain Interoperability&lt;/h2&gt;
&lt;p&gt;So far this article has discussed the interoperability between two blockchains, while in the multi-chain scenarios, additional issues might arise as well. One of the major problem is how we should choose the network topology. Another one is how we identify the blockchains.&lt;/p&gt;
&lt;p&gt;One of the options to form a network of multiple blockchains for interoperation is to let every two of them connect with each other. This will indeed require a lot of connections to be established and thus seems not effective. However, in the case that all involved blockchains have the identical constructs and implementations (e.g. consortium blockchains deployed for different industries), they all can share the same set of protocol to interact with each other, and thus all of them can read messages from one another. Also the security model would be relatively easier to form. As in the scenario that has many blockchains with different constructs, multiple set of protocols would be needed to exist, and it’s nearly impossible to successfully implement them on each of the blockchains, due to the complexity and the amount of effort needed.&lt;/p&gt;
&lt;p&gt;Another option is to have a hub-and-spoke network. This has been adopted by &lt;a href=&quot;https://cosmos.network/docs/resources/whitepaper.html#inter-blockchain-communication-ibc&quot;&gt;Cosmos&lt;/a&gt; and &lt;a href=&quot;https://polkadot.network/&quot;&gt;Polkadot&lt;/a&gt;, both of which have an independent blockchain as a centralized hub or bridge (Comos Hub / Relay Chain). When users on two blockchains in this network want to transfer assets, they will need to first transfer their assets to the hub chain from its origin chain, and then transfer it from the hub chain to the target chain. In the design of Cosmos and Polkadot, they use relay contract based mechanism for interoperability between the hub and their own designed application chains (Zones / Parachains). For the other blockchains, they make use of a set of proxy chains as notary for their interoperation with the hub. In this topology, it is obvious that the security of the hub chain is crucial for the whole security model, and thus deserve extra considerations in the overall protocol design.&lt;/p&gt;
&lt;p&gt;The second problem mentioned above is how to identify the blockchains. This is needed because when a blockchain receives a proof, it needs to verify the match between the proof and the blockchain identity claimed in the proof. This is usually achieved by a &lt;code class=&quot;language-text&quot;&gt;chainID&lt;/code&gt; attributes that comes with the proof. The problem is how  the registry of &lt;code class=&quot;language-text&quot;&gt;chainID&lt;/code&gt; is done. In a local hub-and-spoke network with only one hub, it could be registered on the hub chain for it should be most secured blockchain in this network. However in a bigger public network, a secured and decentralized public blockchain would be the first choice to do the registry. As a large scale interoperable blockchain network is yet to come, this topic has not been not widely discussed so far. &lt;/p&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;As there are still many new blockchain systems popping up, and each of them may have very different designs, it would be very difficult to have a generic protocol that can “rule them all”, in terms of enabling interoperability between these blockchain systems. Therefore it is reasonable to make the argument that enabling interoperability for blockchains should be an application-driven process. Different approaches may be suitable for different applications in different scenarios. Once the actual use case is settled, I hope this post can help designers who are seeking interoperability to find the protocol that matches their needs the best. The discussion here does not hope to cover the full spectrum of blockchain interoperability. Comments are more than welcomed in order to make this post more comprehensive.&lt;/p&gt;</content:encoded></item></channel></rss>